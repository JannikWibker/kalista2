{"version":3,"sources":["webpack:///kalista.min.js","webpack:///webpack/bootstrap 483b5930ded0d787927d","webpack:///./main.js","webpack:///../src/kalista.js","webpack:///../src/dom.js","webpack:///../src/diff.js","webpack:///../src/render.js","webpack:///../~/html-element/index.js","webpack:///../~/class-list/index.js","webpack:///../~/indexof/index.js","webpack:///../~/html-element/html-attributes.js","webpack:///../src/util.js","webpack:///../src/cache.js","webpack:///../src/component.js","webpack:///../src/kalista_client/index.js","webpack:///../src/kalista_client/render.js","webpack:///../src/kalista_server/index.js","webpack:///../src/kalista_server/render.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_kalista","_kalista2","_cache","_kalista_client","_kalista_server","_kalista_server2","Test","component","init","console","log","this","onMount","name","onRender","render","dom","Testcomponent","outerHTML","Object","defineProperty","value","_dom","_dom2","_diff","_diff2","_render","_render2","_component","_component2","kalista","version","diff","tag","prop","_len","arguments","length","args","Array","_key","componentName","forEach","item","i","text","children","_typeof","Symbol","iterator","constructor","prototype","_util","_cache2","render_id","document","element","tree","isComponent","render_cache_item","read","willMount","push","change","node","createTextNode","createElement","gen_id_from_tree","keys","key","setAttribute","appendChild","Document","Node","Style","el","styles","Attribute","Element","self","style","classList","ClassList","childNodes","attributes","dataset","className","_setProperty","arr","val","_getProperty","String","toLowerCase","escapeHTML","s","replace","escapeAttribute","Text","Comment","defineParentNode","__defineGetter__","parentElement","htmlAttributes","v","n","textContent","nodeName","nodeType","createComment","data","setProperty","getProperty","stylified","__defineSetter__","split","part","splitPoint","indexOf","slice","trim","child","cssText","getAttribute","result","removeAttribute","len","splice","replaceChild","newChild","oldChild","replaced","index","removeChild","rChild","removed","insertBefore","existingChild","unshift","addEventListener","type","listener","useCapture","wantsUntrusted","removeEventListener","insertAdjacentHTML","position","html","e","_stringify","attr","a","join","_dataify","_propertify","props","attrName","propToAttr","hasOwnProperty","isStandardAttribute","_shouldOutputProp","VOID_ELEMENTS","AREA","BASE","BR","COL","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR","attrs","concat","toUpperCase","innerHTML","t","l","nodeValue","replaceData","offset","str","elem","add","token","list","getTokens","indexof","setTokens","remove","contains","toggle","$toString","tokens","filter","isTruthy","cl","toString","fn","ret","tagName","HTML_ATTRIBUTES","has","PROPS_TO_ATTRS","htmlFor","accept","Set","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","bgcolor","border","buffered","challenge","charset","checked","cite","class","code","codebase","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","datetime","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","ismap","itemprop","keytype","kind","label","lang","language","loop","low","manifest","max","maxlength","media","method","min","multiple","muted","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","seamless","selected","shape","size","sizes","span","spellcheck","src","srcdoc","srclang","srcset","start","step","summary","tabindex","target","title","usemap","width","wrap","gen_hash","Date","valueOf","chars","charAt","Math","floor","random","path","undefined","force","l_path","component_hierarchy","texts","map","development","middleware","messages","mw","_console","apply","registerMiddleware","unregisterMiddleware","caches","status","components","events","render_cache","cache_types","cache_protected","write","cache_name","_len2","values","_key2","_caches$cache_name","location","set","create","del","componentObject","kalista_client","_render3","kalista_server","_htmlElement"],"mappings":"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","file":"kalista.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!*****************!*\\\n  !*** ./main.js ***!\n  \\*****************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _kalista = __webpack_require__(/*! ../src/kalista */ 1);\n\t\n\tvar _kalista2 = _interopRequireDefault(_kalista);\n\t\n\tvar _cache = __webpack_require__(/*! ../src/cache.js */ 10);\n\t\n\tvar _cache2 = _interopRequireDefault(_cache);\n\t\n\tvar _kalista_client = __webpack_require__(/*! ../src/kalista_client */ 12);\n\t\n\tvar _kalista_client2 = _interopRequireDefault(_kalista_client);\n\t\n\tvar _kalista_server = __webpack_require__(/*! ../src/kalista_server */ 14);\n\t\n\tvar _kalista_server2 = _interopRequireDefault(_kalista_server);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/** @jsx kalista.dom */\n\tvar Test = _kalista2.default.component('Test2', {\n\t  init: function init() {\n\t    console.log(this);\n\t  },\n\t  onMount: function onMount() {\n\t    console.log('mounted ' + this.name);\n\t  },\n\t  onRender: function onRender() {\n\t    console.log('rendered ' + this.name);\n\t  },\n\t  render: function render() {\n\t    return _kalista2.default.dom(\n\t      'div',\n\t      null,\n\t      'some text'\n\t    );\n\t  }\n\t});\n\tvar Testcomponent = _kalista2.default.component('Test1', {\n\t  init: function init() {\n\t    console.log(this);\n\t  },\n\t  onMount: function onMount() {\n\t    console.log('mounted ' + this.name);\n\t  },\n\t  onRender: function onRender() {\n\t    console.log('rendered ' + this.name);\n\t  },\n\t  render: function render() {\n\t    return _kalista2.default.dom(\n\t      'div',\n\t      null,\n\t      _kalista2.default.dom(\n\t        'div',\n\t        { id: '123' },\n\t        '456',\n\t        _kalista2.default.dom(Test, null)\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\t//console.log(kalista_client.render(Testcomponent, document.querySelector('#app')))\n\tconsole.log(_kalista_server2.default.render(Testcomponent).outerHTML);\n\n/***/ },\n/* 1 */\n/*!*************************!*\\\n  !*** ../src/kalista.js ***!\n  \\*************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _dom = __webpack_require__(/*! ./dom.js */ 2);\n\t\n\tvar _dom2 = _interopRequireDefault(_dom);\n\t\n\tvar _diff = __webpack_require__(/*! ./diff.js */ 3);\n\t\n\tvar _diff2 = _interopRequireDefault(_diff);\n\t\n\tvar _render = __webpack_require__(/*! ./render.js */ 4);\n\t\n\tvar _render2 = _interopRequireDefault(_render);\n\t\n\tvar _component = __webpack_require__(/*! ./component.js */ 11);\n\t\n\tvar _component2 = _interopRequireDefault(_component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// assembling the kalista object\n\t// importing functions\n\tvar kalista = {\n\t  version: '2.0.1',\n\t  dom: _dom2.default,\n\t  render: _render2.default,\n\t  diff: _diff2.default,\n\t  component: _component2.default\n\t};\n\t// exporting kalista object\n\texports.default = kalista;\n\n/***/ },\n/* 2 */\n/*!*********************!*\\\n  !*** ../src/dom.js ***!\n  \\*********************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar dom = function dom(tag, prop) {\n\t  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t    args[_key - 2] = arguments[_key];\n\t  }\n\t\n\t  // function that handles the JSX after being transpiled\n\t  var componentName = null; // this variable should later be set by the render function\n\t\n\t  args.forEach(function (item, i) {\n\t    if (typeof args[i] === 'string') args[i] = { tag: 'text', text: args[i] };\n\t  });\n\t  var obj = { tag: tag, componentName: componentName, prop: prop, children: args || [] }; // the object tree generated by the given JSX\n\t  return obj;\n\t};\n\t\n\texports.default = dom;\n\n/***/ },\n/* 3 */\n/*!**********************!*\\\n  !*** ../src/diff.js ***!\n  \\**********************/\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar diff = function diff() {};\n\t\n\texports.default = diff;\n\n/***/ },\n/* 4 */\n/*!************************!*\\\n  !*** ../src/render.js ***!\n  \\************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _util = __webpack_require__(/*! ./util.js */ 9);\n\t\n\tvar _cache = __webpack_require__(/*! ./cache.js */ 10);\n\t\n\tvar _cache2 = _interopRequireDefault(_cache);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _render = function _render(component, render_id, document) {\n\t  var element = void 0,\n\t      tree = void 0;\n\t  if (component.isComponent) {\n\t    // if the 'component' argument is a component\n\t    tree = component.render(); // call the render function\n\t    tree.componentName = component.name; // set the componentName (inside the JSX tree) if the component has a name\n\t    component.onRender(); // call the onRender function\n\t    var render_cache_item = _cache2.default.read('render_cache', render_id);\n\t    render_cache_item.willMount.push(component.id);\n\t    _cache2.default.change('render_cache', render_id, render_cache_item);\n\t  } else {\n\t    tree = component; // else set the tree variable to the 'component' argument (which actually isn't a component)\n\t  }\n\t  if (_typeof(tree.tag) === 'object') {\n\t    // tree.tag is the component if a component is used inside of JSX\n\t    element = _render(tree.tag, render_id, document).node; // this component is just passed to render again (its a bit like unwrapping something recursively IYKWIM)\n\t  } else if (typeof tree.tag === 'function') {\n\t    // checking if its a function (JSX that is not inside of a component but the return value of a function will trigger this)\n\t    element = _render(tree.tag(), render_id.node, document); // evaluation the function and then passing it back to render (like it is done with components)\n\t  } else if ((typeof tree === 'undefined' ? 'undefined' : _typeof(tree)) === 'object' && tree.tag === 'text') {\n\t    // if the tree is just text\n\t    return { node: document.createTextNode(tree.text) }; // create a text node\n\t  } else {\n\t    element = document.createElement(tree.tag); // else create a element with the tag of 'tree.tag'\n\t    tree = (0, _util.gen_id_from_tree)(tree); // create 'kalista-dataid' for the whole tree\n\t  }\n\t  if (tree.prop) {\n\t    // if properties are given, loop trough them and set them\n\t    Object.keys(tree.prop).forEach(function (key) {\n\t      element.setAttribute(key, tree.prop[key]);\n\t    });\n\t  }\n\t\n\t  element.setAttribute('kalista-dataid', tree['__id__']); // set 'kalista-dataid', used for diffing\n\t\n\t  if (tree.children) {\n\t    // if the element has children, create them\n\t    tree.children.forEach(function (value) {\n\t      element.appendChild(_render(value, render_id, document).node);\n\t    });\n\t  }\n\t  return { node: element, willMount: [] }; // returning the element (used for recursion)\n\t};\n\t\n\texports.default = _render;\n\n/***/ },\n/* 5 */\n/*!**********************************!*\\\n  !*** ../~/html-element/index.js ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar ClassList = __webpack_require__(/*! class-list */ 6)\n\tvar htmlAttributes = __webpack_require__(/*! ./html-attributes */ 8);\n\t\n\tfunction Document() {}\n\t\n\tDocument.prototype.createTextNode = function(v) {\n\t    var n = new Text();\n\t    n.textContent = v;\n\t    n.nodeName = '#text'\n\t    n.nodeType = 3\n\t    return n;\n\t}\n\t\n\tDocument.prototype.createElement = function(nodeName) {\n\t    var el = new Element();\n\t    el.nodeName = nodeName;\n\t    return el;\n\t}\n\t\n\tDocument.prototype.createComment = function(data) {\n\t    var el = new Comment()\n\t    el.data = data\n\t    return el;\n\t}\n\t\n\t\n\tfunction Node () {}\n\t\n\tText.prototype = new Node()\n\t\n\tElement.prototype = new Node()\n\t\n\tComment.prototype = new Node()\n\t\n\t\n\tfunction Style (el) {\n\t  this.el = el;\n\t  this.styles = [];\n\t}\n\t\n\tStyle.prototype.setProperty = function (n,v) {\n\t    this.el._setProperty(this.styles, {name: n, value:v});\n\t}\n\t\n\tStyle.prototype.getProperty = function(n) {\n\t    return this.el._getProperty(this.styles, n);\n\t}\n\t\n\tStyle.prototype.__defineGetter__('cssText', function () {\n\t    var stylified = '';\n\t    this.styles.forEach(function(s){\n\t      stylified+=s.name+':'+s.value+';';\n\t    })\n\t    return stylified;\n\t})\n\t\n\tStyle.prototype.__defineSetter__('cssText', function (v) {\n\t    this.styles.length = 0\n\t\n\t    // parse cssText and set style attributes\n\t    v.split(';').forEach(function(part){\n\t      var splitPoint = part.indexOf(':')\n\t      if (splitPoint){\n\t        var key = part.slice(0, splitPoint).trim()\n\t        var value = part.slice(splitPoint+1).trim()\n\t        this.setProperty(key, value)\n\t      }\n\t    }, this)\n\t})\n\t\n\tfunction Attribute(name, value){\n\t  if (name) {\n\t    this.name = name;\n\t    this.value = value ? value : '';\n\t  }\n\t}\n\t\n\t\n\tfunction Element() {\n\t    var self = this;\n\t\n\t    this.style = new Style(this)\n\t    this.classList = ClassList(this);\n\t    this.childNodes = [];\n\t    this.attributes = [];\n\t    this.dataset = {};\n\t    this.className = '';\n\t\n\t    this._setProperty = function(arr, obj, key, val) {\n\t      var p = self._getProperty(arr, key);\n\t      if (p) {\n\t        p.value = String(val);\n\t        return;\n\t      }\n\t      arr.push('function' === typeof obj ? new obj(key.toLowerCase(),String(val)) : obj);\n\t    }\n\t\n\t    this._getProperty = function (arr, key) {\n\t      if (!key) return;\n\t      key = key.toLowerCase();\n\t      for (var i=0;i<arr.length;i++) {\n\t        if (key == arr[i].name) return arr[i];\n\t      }\n\t    }\n\t}\n\t\n\tElement.prototype.nodeType = 1;\n\t\n\tElement.prototype.appendChild = function (child) {\n\t    child.parentElement = this;\n\t    this.childNodes.push(child);\n\t    return child;\n\t}\n\t\n\tElement.prototype.setAttribute = function (n, v) {\n\t  if (n == 'style'){\n\t    this.style.cssText = v\n\t  } else {\n\t    this._setProperty(this.attributes, Attribute, n, v);\n\t  }\n\t}\n\t\n\tElement.prototype.getAttribute = function (n) {\n\t  if (n == 'style'){\n\t    return this.style.cssText\n\t  } else {\n\t    var result = this._getProperty(this.attributes, n);\n\t    return typeof result !== 'undefined' ? result.value : null;\n\t  }\n\t}\n\t\n\tElement.prototype.removeAttribute = function (n) {\n\t  if (n === 'class') {\n\t    delete this.className;\n\t  } else {\n\t    for (var i = 0, len = this.attributes.length; i < len; i++) {\n\t      if (this.attributes[i].name === n) {\n\t        this.attributes.splice(i, 1);\n\t        break;\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tElement.prototype.replaceChild = function(newChild, oldChild) {\n\t    var self = this;\n\t    var replaced = false;\n\t    this.childNodes.forEach(function(child, index){\n\t        if (child === oldChild) {\n\t            self.childNodes[index] = newChild;\n\t            replaced = true;\n\t        }\n\t    });\n\t    if (replaced) return oldChild;\n\t}\n\t\n\tElement.prototype.removeChild = function(rChild) {\n\t    var self = this;\n\t    var removed = true;\n\t    this.childNodes.forEach(function(child, index){\n\t        if (child === rChild) {\n\t          // use splice to keep a clean childNode array\n\t          self.childNodes.splice(index, 1)\n\t          removed = true;\n\t        }\n\t    })\n\t    if (removed) return rChild;\n\t}\n\t\n\tElement.prototype.insertBefore = function (newChild, existingChild) {\n\t  var childNodes = this.childNodes;\n\t  for (var i = 0, len = childNodes.length; i < len; i++) {\n\t    var child = childNodes[i];\n\t    if (child === existingChild) {\n\t      i === 0 ? childNodes.unshift(newChild) : childNodes.splice(i, 0, newChild);\n\t      break;\n\t    }\n\t  }\n\t  return newChild;\n\t}\n\t\n\tElement.prototype.addEventListener = function(type, listener, useCapture, wantsUntrusted) {\n\t  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget.addEventListener\n\t  // There is an implementation there but probably not worth it.\n\t}\n\t\n\tElement.prototype.removeEventListener = function(type, listener, useCapture) {\n\t  // https://developer.mozilla.org/en/docs/Web/API/EventTarget.removeEventListener\n\t  // There is an implementation there but probably not worth it.\n\t}\n\t\n\tElement.prototype.insertAdjacentHTML = function(position, text) {\n\t  // https://developer.mozilla.org/en-US/docs/Web/API/Element.insertAdjacentHTML\n\t  // Not too much work to implement similar to innerHTML below.\n\t}\n\t\n\tElement.prototype.__defineGetter__('innerHTML', function () {\n\t    // regurgitate set innerHTML\n\t    var s = this.childNodes.html || ''\n\t    this.childNodes.forEach(function (e) {\n\t      s += (e.outerHTML || e.textContent)\n\t    })\n\t    return s\n\t})\n\t\n\tElement.prototype.__defineSetter__('innerHTML', function (v) {\n\t    //only handle this simple case that doesn't need parsing\n\t    //this case is useful... parsing is hard and will need added deps!\n\t    this.childNodes.length = 0\n\t\n\t    // hack to preserve set innerHTML - no parsing just regurgitation\n\t    this.childNodes.html = v\n\t})\n\t\n\t\n\tElement.prototype.__defineGetter__('outerHTML', function () {\n\t  var a = [],  self = this;\n\t  var VOID_ELEMENTS = {\n\t    AREA: true,\n\t    BASE: true,\n\t    BR: true,\n\t    COL: true,\n\t    EMBED: true,\n\t    HR: true,\n\t    IMG: true,\n\t    INPUT: true,\n\t    KEYGEN: true,\n\t    LINK: true,\n\t    META: true,\n\t    PARAM: true,\n\t    SOURCE: true,\n\t    TRACK: true,\n\t    WBR: true\n\t  };\n\t\n\t  function _stringify(arr) {\n\t    var attr = [], value;\n\t    arr.forEach(function(a){\n\t      value = ('style' != a.name) ? a.value : self.style.cssText;\n\t      attr.push(a.name+'='+'\\\"'+escapeAttribute(value)+'\\\"');\n\t    })\n\t    return attr.length ? ' '+attr.join(\" \") : '';\n\t  }\n\t\n\t  function _dataify(data) {\n\t    var attr = [], value;\n\t    Object.keys(data).forEach(function(name){\n\t      attr.push('data-'+name+'='+'\\\"'+escapeAttribute(data[name])+'\\\"');\n\t    })\n\t    return attr.length ? ' '+attr.join(\" \") : '';\n\t  }\n\t\n\t  function _propertify() {\n\t    var props = [];\n\t    for (var key in self) {\n\t      var attrName = htmlAttributes.propToAttr(key);\n\t      if (\n\t        self.hasOwnProperty(key) &&\n\t        ['string', 'boolean', 'number'].indexOf(typeof self[key]) !== -1 &&\n\t        htmlAttributes.isStandardAttribute(attrName, self.nodeName) &&\n\t        _shouldOutputProp(key, attrName)\n\t      ) {\n\t        props.push({name: attrName, value: self[key]});\n\t      }\n\t    }\n\t    return props ? _stringify(props) : '';\n\t  }\n\t\n\t  function _shouldOutputProp(prop, attr) {\n\t    if (self.getAttribute(attr)) {\n\t      // let explicitly-set attributes override props\n\t      return false;\n\t    } else {\n\t      if (prop === 'className' && !self[prop]) {\n\t        return false;\n\t      }\n\t    }\n\t    return true;\n\t  }\n\t\n\t  var attrs = this.style.cssText ? this.attributes.concat([{name: 'style'}]) : this.attributes;\n\t\n\t  a.push('<'+this.nodeName + _propertify() + _stringify(attrs) + _dataify(this.dataset) +'>')\n\t\n\t  if (!VOID_ELEMENTS[this.nodeName.toUpperCase()]){\n\t    a.push(this.innerHTML)\n\t    a.push('</'+this.nodeName+'>')\n\t  }\n\t\n\t  return a.join('')\n\t})\n\t\n\tElement.prototype.__defineGetter__('textContent', function () {\n\t  var s = ''\n\t  this.childNodes.forEach(function (e) {\n\t    s += e.textContent\n\t  })\n\t  return s\n\t})\n\t\n\tElement.prototype.addEventListener = function(t, l) {}\n\t\n\tfunction escapeHTML(s) {\n\t  return String(s)\n\t      .replace(/&/g, '&amp;')\n\t      .replace(/</g, '&lt;')\n\t      .replace(/>/g, '&gt;');\n\t}\n\t\n\tfunction escapeAttribute(s) {\n\t  return escapeHTML(s).replace(/\"/g, '&quot;')\n\t}\n\t\n\tElement.prototype.nodeValue = null;\n\t\n\tfunction Text(){}\n\t\n\tText.prototype.nodeType = 3;\n\t\n\tText.prototype.nodeName = '#text';\n\t\n\tText.prototype.__defineGetter__('textContent', function() {\n\t  return escapeHTML(this.value || '');\n\t})\n\t\n\tText.prototype.__defineSetter__('textContent', function(v) {\n\t  this.value = v\n\t})\n\t\n\tText.prototype.__defineGetter__('nodeValue', function() {\n\t  return escapeHTML(this.value || '');\n\t})\n\t\n\tText.prototype.__defineSetter__('nodeValue', function(v) {\n\t  this.value = v\n\t})\n\t\n\tText.prototype.__defineGetter__('length', function() {\n\t  return (this.value || '').length;\n\t})\n\t\n\tText.prototype.replaceData = function(offset, length, str) {\n\t  this.value = this.value.slice(0, offset) + str + this.value.slice(offset + length);\n\t};\n\t\n\tfunction Comment(){}\n\t\n\tComment.prototype.nodeType = 8;\n\t\n\tComment.prototype.nodeName = '#comment';\n\t\n\tComment.prototype.__defineGetter__('data', function() {\n\t  return this.value\n\t})\n\t\n\tComment.prototype.__defineSetter__('data', function(v) {\n\t  this.value = v\n\t})\n\t\n\tComment.prototype.__defineGetter__('outerHTML', function() {\n\t  return '<!--' + escapeHTML(this.value || '') + '-->'\n\t})\n\t\n\tComment.prototype.__defineGetter__('nodeValue', function() {\n\t  return escapeHTML(this.value || '');\n\t})\n\t\n\tComment.prototype.__defineSetter__('nodeValue', function(v) {\n\t  this.value = v\n\t})\n\t\n\tfunction defineParentNode (obj) {\n\t  obj.__defineGetter__('parentNode', function () { return this.parentElement });\n\t}\n\t\n\tdefineParentNode(Element.prototype)\n\tdefineParentNode(Comment.prototype)\n\tdefineParentNode(Text.prototype)\n\tdefineParentNode(Node.prototype)\n\t\n\tmodule.exports = {\n\t  Document: Document,\n\t  Node: Node,\n\t  Element: Element,\n\t  Comment: Comment,\n\t  Text: Text,\n\t  document: new Document(),\n\t};\n\n\n/***/ },\n/* 6 */\n/*!********************************!*\\\n  !*** ../~/class-list/index.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// contains, add, remove, toggle\n\tvar indexof = __webpack_require__(/*! indexof */ 7)\n\t\n\tmodule.exports = ClassList\n\t\n\tfunction ClassList(elem) {\n\t    var cl = elem.classList\n\t\n\t    if (cl) {\n\t        return cl\n\t    }\n\t\n\t    var classList = {\n\t        add: add\n\t        , remove: remove\n\t        , contains: contains\n\t        , toggle: toggle\n\t        , toString: $toString\n\t        , length: 0\n\t        , item: item\n\t    }\n\t\n\t    return classList\n\t\n\t    function add(token) {\n\t        var list = getTokens()\n\t        if (indexof(list, token) > -1) {\n\t            return\n\t        }\n\t        list.push(token)\n\t        setTokens(list)\n\t    }\n\t\n\t    function remove(token) {\n\t        var list = getTokens()\n\t            , index = indexof(list, token)\n\t\n\t        if (index === -1) {\n\t            return\n\t        }\n\t\n\t        list.splice(index, 1)\n\t        setTokens(list)\n\t    }\n\t\n\t    function contains(token) {\n\t        return indexof(getTokens(), token) > -1\n\t    }\n\t\n\t    function toggle(token) {\n\t        if (contains(token)) {\n\t            remove(token)\n\t            return false\n\t        } else {\n\t            add(token)\n\t            return true\n\t        }\n\t    }\n\t\n\t    function $toString() {\n\t        return elem.className\n\t    }\n\t\n\t    function item(index) {\n\t        var tokens = getTokens()\n\t        return tokens[index] || null\n\t    }\n\t\n\t    function getTokens() {\n\t        var className = elem.className\n\t\n\t        return filter(className.split(\" \"), isTruthy)\n\t    }\n\t\n\t    function setTokens(list) {\n\t        var length = list.length\n\t\n\t        elem.className = list.join(\" \")\n\t        classList.length = length\n\t\n\t        for (var i = 0; i < list.length; i++) {\n\t            classList[i] = list[i]\n\t        }\n\t\n\t        delete list[length]\n\t    }\n\t}\n\t\n\tfunction filter (arr, fn) {\n\t    var ret = []\n\t    for (var i = 0; i < arr.length; i++) {\n\t        if (fn(arr[i])) ret.push(arr[i])\n\t    }\n\t    return ret\n\t}\n\t\n\tfunction isTruthy(value) {\n\t    return !!value\n\t}\n\n\n/***/ },\n/* 7 */\n/*!*****************************!*\\\n  !*** ../~/indexof/index.js ***!\n  \\*****************************/\n/***/ function(module, exports) {\n\n\t\n\tvar indexOf = [].indexOf;\n\t\n\tmodule.exports = function(arr, obj){\n\t  if (indexOf) return arr.indexOf(obj);\n\t  for (var i = 0; i < arr.length; ++i) {\n\t    if (arr[i] === obj) return i;\n\t  }\n\t  return -1;\n\t};\n\n/***/ },\n/* 8 */\n/*!********************************************!*\\\n  !*** ../~/html-element/html-attributes.js ***!\n  \\********************************************/\n/***/ function(module, exports) {\n\n\t/**\n\t * Utils for HTML attributes\n\t * @module html-attributes\n\t */\n\t\n\t// property to attribute names\n\tvar PROPS_TO_ATTRS = {\n\t  'className': 'class',\n\t  'htmlFor': 'for',\n\t};\n\t\n\t// map of attributes to the elements they affect\n\t// see https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\n\tvar HTML_ATTRIBUTES = {\n\t  'accept': new Set([\n\t    'form',\n\t    'input',\n\t  ]),\n\t\n\t  'accept-charset': new Set([\n\t    'form',\n\t  ]),\n\t\n\t  'accesskey': 'GLOBAL',\n\t\n\t  'action': new Set([\n\t    'form',\n\t  ]),\n\t\n\t  'align': new Set([\n\t    'applet',\n\t    'caption',\n\t    'col',\n\t    'colgroup',\n\t    'hr',\n\t    'iframe',\n\t    'img',\n\t    'table',\n\t    'tbody',\n\t    'td',\n\t    'tfoot',\n\t    'th',\n\t    'thead',\n\t    'tr',\n\t  ]),\n\t\n\t  'alt': new Set([\n\t    'applet',\n\t    'area',\n\t    'img',\n\t    'input',\n\t  ]),\n\t\n\t  'async': new Set([\n\t    'script',\n\t  ]),\n\t\n\t  'autocomplete': new Set([\n\t    'form',\n\t    'input',\n\t  ]),\n\t\n\t  'autofocus': new Set([\n\t    'button',\n\t    'input',\n\t    'keygen',\n\t    'select',\n\t    'textarea',\n\t  ]),\n\t\n\t  'autoplay': new Set([\n\t    'audio',\n\t    'video',\n\t  ]),\n\t\n\t  'autosave': new Set([\n\t    'input',\n\t  ]),\n\t\n\t  'bgcolor': new Set([\n\t    'body',\n\t    'col',\n\t    'colgroup',\n\t    'marquee',\n\t    'table',\n\t    'tbody',\n\t    'tfoot',\n\t    'td',\n\t    'th',\n\t    'tr',\n\t  ]),\n\t\n\t  'border': new Set([\n\t    'img',\n\t    'object',\n\t    'table',\n\t  ]),\n\t\n\t  'buffered': new Set([\n\t    'audio',\n\t    'video',\n\t  ]),\n\t\n\t  'challenge': new Set([\n\t    'keygen',\n\t  ]),\n\t\n\t  'charset': new Set([\n\t    'meta',\n\t    'script',\n\t  ]),\n\t\n\t  'checked': new Set([\n\t    'command',\n\t    'input',\n\t  ]),\n\t\n\t  'cite': new Set([\n\t    'blockquote',\n\t    'del',\n\t    'ins',\n\t    'q',\n\t  ]),\n\t\n\t  'class': 'GLOBAL',\n\t\n\t  'code': new Set([\n\t    'applet',\n\t  ]),\n\t\n\t  'codebase': new Set([\n\t    'applet',\n\t  ]),\n\t\n\t  'color': new Set([\n\t    'basefont',\n\t    'font',\n\t    'hr',\n\t  ]),\n\t\n\t  'cols': new Set([\n\t    'textarea',\n\t  ]),\n\t\n\t  'colspan': new Set([\n\t    'td',\n\t    'th',\n\t  ]),\n\t\n\t  'content': new Set([\n\t    'meta',\n\t  ]),\n\t\n\t  'contenteditable': 'GLOBAL',\n\t\n\t  'contextmenu': 'GLOBAL',\n\t\n\t  'controls': new Set([\n\t    'audio',\n\t    'video',\n\t  ]),\n\t\n\t  'coords': new Set([\n\t    'area',\n\t  ]),\n\t\n\t  'data': new Set([\n\t    'object',\n\t  ]),\n\t\n\t  'datetime': new Set([\n\t    'del',\n\t    'ins',\n\t    'time',\n\t  ]),\n\t\n\t  'default': new Set([\n\t    'track',\n\t  ]),\n\t\n\t  'defer': new Set([\n\t    'script',\n\t  ]),\n\t\n\t  'dir': 'GLOBAL',\n\t\n\t  'dirname': new Set([\n\t    'input',\n\t    'textarea',\n\t  ]),\n\t\n\t  'disabled': new Set([\n\t    'button',\n\t    'command',\n\t    'fieldset',\n\t    'input',\n\t    'keygen',\n\t    'optgroup',\n\t    'option',\n\t    'select',\n\t    'textarea',\n\t  ]),\n\t\n\t  'download': new Set([\n\t    'a',\n\t    'area',\n\t  ]),\n\t\n\t  'draggable': 'GLOBAL',\n\t\n\t  'dropzone': 'GLOBAL',\n\t\n\t  'enctype': new Set([\n\t    'form',\n\t  ]),\n\t\n\t  'for': new Set([\n\t    'label',\n\t    'output',\n\t  ]),\n\t\n\t  'form': new Set([\n\t    'button',\n\t    'fieldset',\n\t    'input',\n\t    'keygen',\n\t    'label',\n\t    'meter',\n\t    'object',\n\t    'output',\n\t    'progress',\n\t    'select',\n\t    'textarea',\n\t  ]),\n\t\n\t  'formaction': new Set([\n\t    'input',\n\t    'button',\n\t  ]),\n\t\n\t  'headers': new Set([\n\t    'td',\n\t    'th',\n\t  ]),\n\t\n\t  'height': new Set([\n\t    'canvas',\n\t    'embed',\n\t    'iframe',\n\t    'img',\n\t    'input',\n\t    'object',\n\t    'video',\n\t  ]),\n\t\n\t  'hidden': 'GLOBAL',\n\t\n\t  'high': new Set([\n\t    'meter',\n\t  ]),\n\t\n\t  'href': new Set([\n\t    'a',\n\t    'area',\n\t    'base',\n\t    'link',\n\t  ]),\n\t\n\t  'hreflang': new Set([\n\t    'a',\n\t    'area',\n\t    'link',\n\t  ]),\n\t\n\t  'http-equiv': new Set([\n\t    'meta',\n\t  ]),\n\t\n\t  'icon': new Set([\n\t    'command',\n\t  ]),\n\t\n\t  'id': 'GLOBAL',\n\t\n\t  'ismap': new Set([\n\t    'img',\n\t  ]),\n\t\n\t  'itemprop': 'GLOBAL',\n\t\n\t  'keytype': new Set([\n\t    'keygen',\n\t  ]),\n\t\n\t  'kind': new Set([\n\t    'track',\n\t  ]),\n\t\n\t  'label': new Set([\n\t    'track',\n\t  ]),\n\t\n\t  'lang': 'GLOBAL',\n\t\n\t  'language': new Set([\n\t    'script',\n\t  ]),\n\t\n\t  'list': new Set([\n\t    'input',\n\t  ]),\n\t\n\t  'loop': new Set([\n\t    'audio',\n\t    'bgsound',\n\t    'marquee',\n\t    'video',\n\t  ]),\n\t\n\t  'low': new Set([\n\t    'meter',\n\t  ]),\n\t\n\t  'manifest': new Set([\n\t    'html',\n\t  ]),\n\t\n\t  'max': new Set([\n\t    'input',\n\t    'meter',\n\t    'progress',\n\t  ]),\n\t\n\t  'maxlength': new Set([\n\t    'input',\n\t    'textarea',\n\t  ]),\n\t\n\t  'media': new Set([\n\t    'a',\n\t    'area',\n\t    'link',\n\t    'source',\n\t    'style',\n\t  ]),\n\t\n\t  'method': new Set([\n\t    'form',\n\t  ]),\n\t\n\t  'min': new Set([\n\t    'input',\n\t    'meter',\n\t  ]),\n\t\n\t  'multiple': new Set([\n\t    'input',\n\t    'select',\n\t  ]),\n\t\n\t  'muted': new Set([\n\t    'video',\n\t  ]),\n\t\n\t  'name': new Set([\n\t    'button',\n\t    'form',\n\t    'fieldset',\n\t    'iframe',\n\t    'input',\n\t    'keygen',\n\t    'object',\n\t    'output',\n\t    'select',\n\t    'textarea',\n\t    'map',\n\t    'meta',\n\t    'param',\n\t  ]),\n\t\n\t  'novalidate': new Set([\n\t    'form',\n\t  ]),\n\t\n\t  'open': new Set([\n\t    'details',\n\t  ]),\n\t\n\t  'optimum': new Set([\n\t    'meter',\n\t  ]),\n\t\n\t  'pattern': new Set([\n\t    'input',\n\t  ]),\n\t\n\t  'ping': new Set([\n\t    'a',\n\t    'area',\n\t  ]),\n\t\n\t  'placeholder': new Set([\n\t    'input',\n\t    'textarea',\n\t  ]),\n\t\n\t  'poster': new Set([\n\t    'video',\n\t  ]),\n\t\n\t  'preload': new Set([\n\t    'audio',\n\t    'video',\n\t  ]),\n\t\n\t  'radiogroup': new Set([\n\t    'command',\n\t  ]),\n\t\n\t  'readonly': new Set([\n\t    'input',\n\t    'textarea',\n\t  ]),\n\t\n\t  'rel': new Set([\n\t    'a',\n\t    'area',\n\t    'link',\n\t  ]),\n\t\n\t  'required': new Set([\n\t    'input',\n\t    'select',\n\t    'textarea',\n\t  ]),\n\t\n\t  'reversed': new Set([\n\t    'ol',\n\t  ]),\n\t\n\t  'rows': new Set([\n\t    'textarea',\n\t  ]),\n\t\n\t  'rowspan': new Set([\n\t    'td',\n\t    'th',\n\t  ]),\n\t\n\t  'sandbox': new Set([\n\t    'iframe',\n\t  ]),\n\t\n\t  'scope': new Set([\n\t    'th',\n\t  ]),\n\t\n\t  'scoped': new Set([\n\t    'style',\n\t  ]),\n\t\n\t  'seamless': new Set([\n\t    'iframe',\n\t  ]),\n\t\n\t  'selected': new Set([\n\t    'option',\n\t  ]),\n\t\n\t  'shape': new Set([\n\t    'a',\n\t    'area',\n\t  ]),\n\t\n\t  'size': new Set([\n\t    'input',\n\t    'select',\n\t  ]),\n\t\n\t  'sizes': new Set([\n\t    'img',\n\t    'link',\n\t    'source',\n\t  ]),\n\t\n\t  'span': new Set([\n\t    'col',\n\t    'colgroup',\n\t  ]),\n\t\n\t  'spellcheck': 'GLOBAL',\n\t\n\t  'src': new Set([\n\t    'audio',\n\t    'embed',\n\t    'iframe',\n\t    'img',\n\t    'input',\n\t    'script',\n\t    'source',\n\t    'track',\n\t    'video',\n\t  ]),\n\t\n\t  'srcdoc': new Set([\n\t    'iframe',\n\t  ]),\n\t\n\t  'srclang': new Set([\n\t    'track',\n\t  ]),\n\t\n\t  'srcset': new Set([\n\t    'img',\n\t  ]),\n\t\n\t  'start': new Set([\n\t    'ol',\n\t  ]),\n\t\n\t  'step': new Set([\n\t    'input',\n\t  ]),\n\t\n\t  'style': 'GLOBAL',\n\t\n\t  'summary': new Set([\n\t    'table',\n\t  ]),\n\t\n\t  'tabindex': 'GLOBAL',\n\t\n\t  'target': new Set([\n\t    'a',\n\t    'area',\n\t    'base',\n\t    'form',\n\t  ]),\n\t\n\t  'title': 'GLOBAL',\n\t\n\t  'type': new Set([\n\t    'button',\n\t    'input',\n\t    'command',\n\t    'embed',\n\t    'object',\n\t    'script',\n\t    'source',\n\t    'style',\n\t    'menu',\n\t  ]),\n\t\n\t  'usemap': new Set([\n\t    'img',\n\t    'input',\n\t    'object',\n\t  ]),\n\t\n\t  'value': new Set([\n\t    'button',\n\t    'option',\n\t    'input',\n\t    'li',\n\t    'meter',\n\t    'progress',\n\t    'param',\n\t  ]),\n\t\n\t  'width': new Set([\n\t    'canvas',\n\t    'embed',\n\t    'iframe',\n\t    'img',\n\t    'input',\n\t    'object',\n\t    'video',\n\t  ]),\n\t\n\t  'wrap': new Set([\n\t    'textarea',\n\t  ]),\n\t};\n\t\n\tfunction isStandardAttribute(attrName, tagName) {\n\t  tagName = tagName.toLowerCase();\n\t  var attr = HTML_ATTRIBUTES[attrName.toLowerCase()];\n\t  return !!attr && (\n\t    attr === 'GLOBAL' ||\n\t    attr.has(tagName)\n\t  );\n\t}\n\t\n\tfunction propToAttr(prop) {\n\t  return PROPS_TO_ATTRS[prop] || prop;\n\t}\n\t\n\tmodule.exports = {\n\t  isStandardAttribute: isStandardAttribute,\n\t  propToAttr: propToAttr,\n\t};\n\n\n/***/ },\n/* 9 */\n/*!**********************!*\\\n  !*** ../src/util.js ***!\n  \\**********************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar gen_hash = function gen_hash(length) {\n\t  var n = new Date().valueOf().toString(),\n\t      result = '',\n\t      p = 0,\n\t      chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\t  for (var i = length; i > 0; --i) {\n\t    result += i & 1 && n.charAt(p) ? n.charAt(p) : chars[Math.floor(Math.random() * chars.length)];\n\t    if (i & 1) p++;\n\t  }\n\t  return result;\n\t};\n\t\n\tvar gen_id_from_tree = function gen_id_from_tree(tree) {\n\t  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t  var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\t  var force = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\t\n\t  var l_path = path + '.' + n;\n\t  if (force) tree['__id__'] = l_path; // redoing the whole tree can be forced by setting 'force' to true\n\t  if (!force) tree['__id__'] = tree['__id__'] ? tree['__id__'] : l_path;\n\t  if (tree.children) {\n\t    tree.children.forEach(function (item, i) {\n\t      if (!tree.children[i]['__id__'] || force) {\n\t        tree.children[i] = gen_id_from_tree(tree.children[i], l_path, i);\n\t      }\n\t    });\n\t  }\n\t  return tree;\n\t};\n\t\n\tvar component_hierarchy = function component_hierarchy(tree) {\n\t  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t  if (tree.componentName && tree.children) {\n\t    text += tree.componentName + ' > ';\n\t  } else if (!tree.componentName && tree.children) {\n\t    text += tree.tag + ' > ';\n\t  } else if (tree.componentName && !tree.children) {\n\t    text += tree.componentName;\n\t  } else if (!tree.componentName && !tree.children) {\n\t    text += tree.tag;\n\t  }\n\t  if (tree.children) {\n\t    var texts = tree.children.map(function (item) {\n\t      return component_hierarchy(item);\n\t    });\n\t    if (texts.length > 1) {\n\t      text += '| ' + texts.join(', ') + ' |';\n\t    } else {\n\t      text += texts[0];\n\t    }\n\t  }\n\t  return text;\n\t};\n\t\n\texports.gen_hash = gen_hash;\n\texports.gen_id_from_tree = gen_id_from_tree;\n\texports.component_hierarchy = component_hierarchy;\n\n/***/ },\n/* 10 */\n/*!***********************!*\\\n  !*** ../src/cache.js ***!\n  \\***********************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar development = false;\n\t\n\tvar middleware = function middleware() {\n\t  for (var _len = arguments.length, messages = Array(_len), _key = 0; _key < _len; _key++) {\n\t    messages[_key] = arguments[_key];\n\t  }\n\t\n\t  mw.forEach(function (item) {\n\t    item.apply(undefined, messages);\n\t  });\n\t};\n\t\n\tvar mw = [function () {\n\t  var _console;\n\t\n\t  if (development) (_console = console).log.apply(_console, arguments);\n\t}];\n\t\n\tvar registerMiddleware = function registerMiddleware(fn) {\n\t  return mw.push(fn) - 1;\n\t};\n\t\n\tvar unregisterMiddleware = function unregisterMiddleware(id) {\n\t  mw.splice(id, 1);\n\t};\n\t\n\tvar caches = { // the default caches\n\t  status: [],\n\t  components: [],\n\t  events: [],\n\t  render_cache: {}\n\t};\n\t\n\tvar cache_types = { // caches with corresponding cache type\n\t  'status': 'array',\n\t  'components': 'array',\n\t  'events': 'array',\n\t  'render_cache': 'object'\n\t};\n\t\n\tvar cache_protected = { // different levels of protection (0: no protection, deletion\n\t  'status': 2, // is allowed, 1: deletion is not allowed but setting the whole\n\t  'components': 2, // cache to a new value is, 2: only adding to the cache is allowed)\n\t  'events': 1\n\t};\n\t\n\tvar write = function write(cache_name) {\n\t  for (var _len2 = arguments.length, values = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t    values[_key2 - 1] = arguments[_key2];\n\t  }\n\t\n\t  // adding to a cache (type of interaction based on cache type)\n\t  middleware.apply(undefined, values);\n\t  if (caches[cache_name] === undefined) {\n\t    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:WRITE\").');\n\t    return false;\n\t  } else {\n\t    if (cache_types[cache_name] === 'array') {\n\t      var _caches$cache_name;\n\t\n\t      // array: adding items to the array\n\t      (_caches$cache_name = caches[cache_name]).push.apply(_caches$cache_name, values);\n\t      return true;\n\t    } else if (cache_types[cache_name] === 'object') {\n\t      // object: adding {key: value} pairs\n\t      if (values.length < 2) {\n\t        write('status', 'amount of arguments is too low, 2 arguments are required: ' + values + ' (\"CACHE:WRITE\").');\n\t        return false;\n\t      }\n\t      caches[cache_name][values[0]] = values[1];\n\t      return true;\n\t    } else if (cache_types[cache_name] === 'number') {\n\t      // adding to the number (used for incrementing, negative numbers used for decrementing)\n\t      caches[cache_name] += values[0];\n\t      return true;\n\t    } else if (cache_types[cache_name] === 'string') {\n\t      // adding to a string (no real use case as of now but it is available)\n\t      caches[cache_name] += values[0];\n\t      return true;\n\t    } else {\n\t      write('status', 'some error occured (in \"CACHE:WRITE\").');\n\t      return false;\n\t    }\n\t  }\n\t};\n\t\n\tvar change = function change(cache_name, location, value) {\n\t  middleware(location, value);\n\t  if (caches[cache_name] === undefined) {\n\t    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:CHANGE\").');\n\t    return false;\n\t  } else {\n\t    if (cache_types[cache_name] === 'array') {\n\t      if (caches[cache_name][location] = value) {\n\t        return true;\n\t      } else {\n\t        return false;\n\t      }\n\t    } else if (cache_types[cache_name] === 'object') {\n\t      if (caches[cache_name][location] = value) {\n\t        return true;\n\t      } else {\n\t        return false;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\tvar set = function set(cache_name, value) {\n\t  // setting the value of a complete cache\n\t  if (caches[cache_name] === undefined) {\n\t    // (only if the cache has a protection level of less than 2)\n\t    middleware(value);\n\t    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:SET\").');\n\t    return false;\n\t  } else if (cache_protected[cache_name] <= 1) {\n\t    caches[cache_name] = value;\n\t    return true;\n\t  } else {\n\t    write('status', 'cache with protection level ' + cache_protected[cache_name] + 'does not allow this change (\"CACHE:SET\").');\n\t  }\n\t};\n\t\n\tvar read = function read(cache_name, location) {\n\t  // reading from a cache (allowed for all caches regardless of protection level)\n\t  if (caches[cache_name] === undefined) {\n\t    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:READ\").');\n\t    return false;\n\t  } else {\n\t    if (cache_types[cache_name] === 'array' && location) {\n\t      return caches[cache_name][location];\n\t    } else if (cache_types[cache_name] === 'object' && location) {\n\t      return caches[cache_name][location];\n\t    } else {\n\t      return caches[cache_name];\n\t    }\n\t  }\n\t};\n\t\n\tvar create = function create(cache_name) {\n\t  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'array';\n\t  // create a new cache (optional types are: array([]), object({}), number(0), string('') ; default is array)\n\t  if (caches[cache_name] !== undefined) {\n\t    write('status', 'a cache with this name exists already (\"CACHE:CREATE\").');\n\t\n\t    return false;\n\t  } else {\n\t    if (type === 'array') {\n\t      // setting the cache type\n\t      caches[cache_name] = [];\n\t      cache_types[cache_name] = type;\n\t    } else if (type === 'object') {\n\t      caches[cache_name] = {};\n\t      cache_types[cache_name] = type;\n\t    } else if (type === 'number') {\n\t      caches[cache_name] = 0;\n\t      cache_types[cache_name] = type;\n\t    } else if (type === 'string') {\n\t      caches[cache_name] = '';\n\t      cache_types[cache_name] = type;\n\t    } else {\n\t      write('status', 'type not available: ' + type + ' (\"CACHE:CREATE\").');\n\t      return false;\n\t    }\n\t    middleware('cache created: ' + cache_name);\n\t    return true;\n\t  }\n\t};\n\t\n\tvar del = function del(cache_name) {\n\t  // deleting a cache (protection level 0 only)\n\t  if (caches[cache_name] === undefined) {\n\t    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:DEL\").');\n\t    return false;\n\t  } else if (cache_protected[cache_name] >= 1) {\n\t    write('status', 'deleting cache ' + cache_name + ' with protection level greater than or equal to 1 is not allowed (\"CACHE:DEL\").');\n\t    return false;\n\t  } else {\n\t    return delete caches[cache_name];\n\t  }\n\t};\n\t\n\texports.default = { write: write, set: set, change: change, read: read, create: create, del: del, registerMiddleware: registerMiddleware, unregisterMiddleware: unregisterMiddleware };\n\n/***/ },\n/* 11 */\n/*!***************************!*\\\n  !*** ../src/component.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _util = __webpack_require__(/*! ./util.js */ 9);\n\t\n\tvar _cache = __webpack_require__(/*! ./cache.js */ 10);\n\t\n\tvar _cache2 = _interopRequireDefault(_cache);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar component = function component(name, componentObject) {\n\t  // component creation (with component object as an argument)\n\t  if (typeof name !== 'string') {\n\t    // no name given, 'name' and 'componentObject' arguments must be swapped\n\t    componentObject = name;\n\t    name = null;\n\t  }\n\t  componentObject.id = (0, _util.gen_hash)(16); // generating a 16 digit long random id (numbers, alphabet (upper and lower caser)) with gen_hash from util.js\n\t  componentObject.name = name; // if a name is given, set is as the name, else use null\n\t  componentObject.isComponent = true; // isComponent is there to check if it is infact a component (useful for rendering)\n\t  if (!componentObject.onMount) {\n\t    // setting onMount if it isn't set\n\t    componentObject.onMount = function () {};\n\t  }\n\t  if (!componentObject.onRender) {\n\t    // setting onRender if it isn't set\n\t    componentObject.onRender = function () {};\n\t  }\n\t  componentObject.init(); // running the init of the component\n\t  _cache2.default.write('components', componentObject);\n\t  return componentObject; // returning the componentObject\n\t};\n\t\n\texports.default = component;\n\n/***/ },\n/* 12 */\n/*!**************************************!*\\\n  !*** ../src/kalista_client/index.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _render = __webpack_require__(/*! ./render.js */ 13);\n\t\n\tvar _render2 = _interopRequireDefault(_render);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar kalista_client = {\n\t  render: _render2.default\n\t};\n\t\n\texports.default = kalista_client;\n\n/***/ },\n/* 13 */\n/*!***************************************!*\\\n  !*** ../src/kalista_client/render.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _render2 = __webpack_require__(/*! ../render.js */ 4);\n\t\n\tvar _render3 = _interopRequireDefault(_render2);\n\t\n\tvar _util = __webpack_require__(/*! ../util.js */ 9);\n\t\n\tvar _cache = __webpack_require__(/*! ../cache.js */ 10);\n\t\n\tvar _cache2 = _interopRequireDefault(_cache);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar render = function render(component, element) {\n\t  var render_id = (0, _util.gen_hash)(32);\n\t  _cache2.default.write('render_cache', render_id, { id: render_id, willMount: [] });\n\t  var node = (0, _render3.default)(component, render_id, document).node;\n\t  var components = _cache2.default.read('components');\n\t  _cache2.default.read('render_cache', render_id).willMount.forEach(function (id) {\n\t    components.forEach(function (component) {\n\t      if (component.id === id) {\n\t        component.onMount();\n\t      }\n\t    });\n\t  });\n\t  if ((typeof element === 'undefined' ? 'undefined' : _typeof(element)) === 'object') {\n\t    element.appendChild(node);\n\t  }\n\t  return node;\n\t};\n\t\n\texports.default = render;\n\n/***/ },\n/* 14 */\n/*!**************************************!*\\\n  !*** ../src/kalista_server/index.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _render = __webpack_require__(/*! ./render.js */ 15);\n\t\n\tvar _render2 = _interopRequireDefault(_render);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar kalista_server = {\n\t  render: _render2.default\n\t};\n\t\n\texports.default = kalista_server;\n\n/***/ },\n/* 15 */\n/*!***************************************!*\\\n  !*** ../src/kalista_server/render.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _htmlElement = __webpack_require__(/*! html-element */ 5);\n\t\n\tvar _render2 = __webpack_require__(/*! ../render.js */ 4);\n\t\n\tvar _render3 = _interopRequireDefault(_render2);\n\t\n\tvar _util = __webpack_require__(/*! ../util.js */ 9);\n\t\n\tvar _cache = __webpack_require__(/*! ../cache.js */ 10);\n\t\n\tvar _cache2 = _interopRequireDefault(_cache);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar render = function render(component) {\n\t  var render_id = (0, _util.gen_hash)(32);\n\t  _cache2.default.write('render_cache', render_id, { id: render_id, willMount: [] });\n\t  var node = (0, _render3.default)(component, render_id, _htmlElement.document).node;\n\t  var components = _cache2.default.read('components');\n\t  _cache2.default.read('render_cache', render_id).willMount.forEach(function (id) {\n\t    components.forEach(function (component) {\n\t      if (component.id === id) {\n\t        component.onMount();\n\t      }\n\t    });\n\t  });\n\t  return node;\n\t};\n\t\n\texports.default = render;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** kalista.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 483b5930ded0d787927d\n **/","/** @jsx kalista.dom */\r\nimport kalista from '../src/kalista'\r\nimport cache from '../src/cache.js'\r\nimport kalista_client from '../src/kalista_client'\r\nimport kalista_server from '../src/kalista_server'\r\n\r\nlet Test = kalista.component('Test2', {\r\n  init() { console.log(this)},\r\n  onMount() { console.log('mounted ' + this.name)},\r\n  onRender() { console.log('rendered ' + this.name)},\r\n  render() {\r\n    return (\r\n      <div>\r\n        some text\r\n      </div>\r\n    )\r\n  }\r\n})\r\nlet Testcomponent = kalista.component('Test1', {\r\n  init() {\r\n    console.log(this)\r\n  },\r\n  onMount() {\r\n    console.log('mounted ' + this.name)\r\n  },\r\n  onRender() {\r\n    console.log('rendered ' + this.name)\r\n  },\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div id=\"123\">\r\n          456\r\n          <Test />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n})\r\n\r\n//console.log(kalista_client.render(Testcomponent, document.querySelector('#app')))\r\nconsole.log(kalista_server.render(Testcomponent).outerHTML)\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","// importing functions\nimport dom from './dom.js'\nimport diff from './diff.js'\nimport render from './render.js'\nimport component from './component.js'\n// assembling the kalista object\nlet kalista = {\n  version: '2.0.1',\n  dom,\n  render,\n  diff,\n  component\n}\n// exporting kalista object\nexport default kalista\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/kalista.js\n **/","let dom = (tag, prop, ...args) => {   // function that handles the JSX after being transpiled\r\n  let componentName = null            // this variable should later be set by the render function\r\n\r\n  args.forEach((item, i) => {\r\n    if(typeof args[i] === 'string') args[i] = {tag: 'text', text: args[i]}\r\n  })\r\n  let obj = { tag: tag, componentName: componentName, prop: prop, children: args || [] } // the object tree generated by the given JSX\r\n  return obj\r\n}\r\n\r\nexport default dom\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/dom.js\n **/","let diff = () => {\r\n\r\n}\r\n\r\nexport default diff\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/diff.js\n **/","import { gen_id_from_tree, component_hierarchy } from './util.js'\r\nimport cache from './cache.js'\r\n\r\nlet _render = (component, render_id, document) => {\r\n  let element, tree\r\n  if(component.isComponent) {             // if the 'component' argument is a component\r\n    tree = component.render()             // call the render function\r\n    tree.componentName = component.name   // set the componentName (inside the JSX tree) if the component has a name\r\n    component.onRender()                  // call the onRender function\r\n    let render_cache_item = cache.read('render_cache', render_id)\r\n    render_cache_item.willMount.push(component.id)\r\n    cache.change('render_cache', render_id, render_cache_item)\r\n  } else {\r\n    tree = component                      // else set the tree variable to the 'component' argument (which actually isn't a component)\r\n  }\r\n  if(typeof tree.tag === 'object') {                            // tree.tag is the component if a component is used inside of JSX\r\n    element = _render(tree.tag, render_id, document).node       // this component is just passed to render again (its a bit like unwrapping something recursively IYKWIM)\r\n  } else if(typeof tree.tag === 'function') {                   // checking if its a function (JSX that is not inside of a component but the return value of a function will trigger this)\r\n    element = _render(tree.tag(), render_id.node, document)     // evaluation the function and then passing it back to render (like it is done with components)\r\n  } else if(typeof tree === 'object' && tree.tag === 'text') {  // if the tree is just text\r\n    return {node: document.createTextNode(tree.text) }          // create a text node\r\n  } else {\r\n    element = document.createElement(tree.tag)                  // else create a element with the tag of 'tree.tag'\r\n    tree = gen_id_from_tree(tree)                               // create 'kalista-dataid' for the whole tree\r\n\r\n  }\r\n  if(tree.prop) {                                               // if properties are given, loop trough them and set them\r\n    Object.keys(tree.prop).forEach((key) => {\r\n      element.setAttribute(key, tree.prop[key])\r\n    })\r\n  }\r\n\r\n  element.setAttribute('kalista-dataid', tree['__id__'])        // set 'kalista-dataid', used for diffing\r\n\r\n  if(tree.children) {                                           // if the element has children, create them\r\n    tree.children.forEach((value) => {\r\n      element.appendChild(_render(value, render_id, document).node)\r\n    })\r\n  }\r\n  return { node: element, willMount: [] } // returning the element (used for recursion)\r\n}\r\n\r\nexport default _render\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/render.js\n **/","var ClassList = require('class-list')\nvar htmlAttributes = require('./html-attributes');\n\nfunction Document() {}\n\nDocument.prototype.createTextNode = function(v) {\n    var n = new Text();\n    n.textContent = v;\n    n.nodeName = '#text'\n    n.nodeType = 3\n    return n;\n}\n\nDocument.prototype.createElement = function(nodeName) {\n    var el = new Element();\n    el.nodeName = nodeName;\n    return el;\n}\n\nDocument.prototype.createComment = function(data) {\n    var el = new Comment()\n    el.data = data\n    return el;\n}\n\n\nfunction Node () {}\n\nText.prototype = new Node()\n\nElement.prototype = new Node()\n\nComment.prototype = new Node()\n\n\nfunction Style (el) {\n  this.el = el;\n  this.styles = [];\n}\n\nStyle.prototype.setProperty = function (n,v) {\n    this.el._setProperty(this.styles, {name: n, value:v});\n}\n\nStyle.prototype.getProperty = function(n) {\n    return this.el._getProperty(this.styles, n);\n}\n\nStyle.prototype.__defineGetter__('cssText', function () {\n    var stylified = '';\n    this.styles.forEach(function(s){\n      stylified+=s.name+':'+s.value+';';\n    })\n    return stylified;\n})\n\nStyle.prototype.__defineSetter__('cssText', function (v) {\n    this.styles.length = 0\n\n    // parse cssText and set style attributes\n    v.split(';').forEach(function(part){\n      var splitPoint = part.indexOf(':')\n      if (splitPoint){\n        var key = part.slice(0, splitPoint).trim()\n        var value = part.slice(splitPoint+1).trim()\n        this.setProperty(key, value)\n      }\n    }, this)\n})\n\nfunction Attribute(name, value){\n  if (name) {\n    this.name = name;\n    this.value = value ? value : '';\n  }\n}\n\n\nfunction Element() {\n    var self = this;\n\n    this.style = new Style(this)\n    this.classList = ClassList(this);\n    this.childNodes = [];\n    this.attributes = [];\n    this.dataset = {};\n    this.className = '';\n\n    this._setProperty = function(arr, obj, key, val) {\n      var p = self._getProperty(arr, key);\n      if (p) {\n        p.value = String(val);\n        return;\n      }\n      arr.push('function' === typeof obj ? new obj(key.toLowerCase(),String(val)) : obj);\n    }\n\n    this._getProperty = function (arr, key) {\n      if (!key) return;\n      key = key.toLowerCase();\n      for (var i=0;i<arr.length;i++) {\n        if (key == arr[i].name) return arr[i];\n      }\n    }\n}\n\nElement.prototype.nodeType = 1;\n\nElement.prototype.appendChild = function (child) {\n    child.parentElement = this;\n    this.childNodes.push(child);\n    return child;\n}\n\nElement.prototype.setAttribute = function (n, v) {\n  if (n == 'style'){\n    this.style.cssText = v\n  } else {\n    this._setProperty(this.attributes, Attribute, n, v);\n  }\n}\n\nElement.prototype.getAttribute = function (n) {\n  if (n == 'style'){\n    return this.style.cssText\n  } else {\n    var result = this._getProperty(this.attributes, n);\n    return typeof result !== 'undefined' ? result.value : null;\n  }\n}\n\nElement.prototype.removeAttribute = function (n) {\n  if (n === 'class') {\n    delete this.className;\n  } else {\n    for (var i = 0, len = this.attributes.length; i < len; i++) {\n      if (this.attributes[i].name === n) {\n        this.attributes.splice(i, 1);\n        break;\n      }\n    }\n  }\n}\n\nElement.prototype.replaceChild = function(newChild, oldChild) {\n    var self = this;\n    var replaced = false;\n    this.childNodes.forEach(function(child, index){\n        if (child === oldChild) {\n            self.childNodes[index] = newChild;\n            replaced = true;\n        }\n    });\n    if (replaced) return oldChild;\n}\n\nElement.prototype.removeChild = function(rChild) {\n    var self = this;\n    var removed = true;\n    this.childNodes.forEach(function(child, index){\n        if (child === rChild) {\n          // use splice to keep a clean childNode array\n          self.childNodes.splice(index, 1)\n          removed = true;\n        }\n    })\n    if (removed) return rChild;\n}\n\nElement.prototype.insertBefore = function (newChild, existingChild) {\n  var childNodes = this.childNodes;\n  for (var i = 0, len = childNodes.length; i < len; i++) {\n    var child = childNodes[i];\n    if (child === existingChild) {\n      i === 0 ? childNodes.unshift(newChild) : childNodes.splice(i, 0, newChild);\n      break;\n    }\n  }\n  return newChild;\n}\n\nElement.prototype.addEventListener = function(type, listener, useCapture, wantsUntrusted) {\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget.addEventListener\n  // There is an implementation there but probably not worth it.\n}\n\nElement.prototype.removeEventListener = function(type, listener, useCapture) {\n  // https://developer.mozilla.org/en/docs/Web/API/EventTarget.removeEventListener\n  // There is an implementation there but probably not worth it.\n}\n\nElement.prototype.insertAdjacentHTML = function(position, text) {\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element.insertAdjacentHTML\n  // Not too much work to implement similar to innerHTML below.\n}\n\nElement.prototype.__defineGetter__('innerHTML', function () {\n    // regurgitate set innerHTML\n    var s = this.childNodes.html || ''\n    this.childNodes.forEach(function (e) {\n      s += (e.outerHTML || e.textContent)\n    })\n    return s\n})\n\nElement.prototype.__defineSetter__('innerHTML', function (v) {\n    //only handle this simple case that doesn't need parsing\n    //this case is useful... parsing is hard and will need added deps!\n    this.childNodes.length = 0\n\n    // hack to preserve set innerHTML - no parsing just regurgitation\n    this.childNodes.html = v\n})\n\n\nElement.prototype.__defineGetter__('outerHTML', function () {\n  var a = [],  self = this;\n  var VOID_ELEMENTS = {\n    AREA: true,\n    BASE: true,\n    BR: true,\n    COL: true,\n    EMBED: true,\n    HR: true,\n    IMG: true,\n    INPUT: true,\n    KEYGEN: true,\n    LINK: true,\n    META: true,\n    PARAM: true,\n    SOURCE: true,\n    TRACK: true,\n    WBR: true\n  };\n\n  function _stringify(arr) {\n    var attr = [], value;\n    arr.forEach(function(a){\n      value = ('style' != a.name) ? a.value : self.style.cssText;\n      attr.push(a.name+'='+'\\\"'+escapeAttribute(value)+'\\\"');\n    })\n    return attr.length ? ' '+attr.join(\" \") : '';\n  }\n\n  function _dataify(data) {\n    var attr = [], value;\n    Object.keys(data).forEach(function(name){\n      attr.push('data-'+name+'='+'\\\"'+escapeAttribute(data[name])+'\\\"');\n    })\n    return attr.length ? ' '+attr.join(\" \") : '';\n  }\n\n  function _propertify() {\n    var props = [];\n    for (var key in self) {\n      var attrName = htmlAttributes.propToAttr(key);\n      if (\n        self.hasOwnProperty(key) &&\n        ['string', 'boolean', 'number'].indexOf(typeof self[key]) !== -1 &&\n        htmlAttributes.isStandardAttribute(attrName, self.nodeName) &&\n        _shouldOutputProp(key, attrName)\n      ) {\n        props.push({name: attrName, value: self[key]});\n      }\n    }\n    return props ? _stringify(props) : '';\n  }\n\n  function _shouldOutputProp(prop, attr) {\n    if (self.getAttribute(attr)) {\n      // let explicitly-set attributes override props\n      return false;\n    } else {\n      if (prop === 'className' && !self[prop]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  var attrs = this.style.cssText ? this.attributes.concat([{name: 'style'}]) : this.attributes;\n\n  a.push('<'+this.nodeName + _propertify() + _stringify(attrs) + _dataify(this.dataset) +'>')\n\n  if (!VOID_ELEMENTS[this.nodeName.toUpperCase()]){\n    a.push(this.innerHTML)\n    a.push('</'+this.nodeName+'>')\n  }\n\n  return a.join('')\n})\n\nElement.prototype.__defineGetter__('textContent', function () {\n  var s = ''\n  this.childNodes.forEach(function (e) {\n    s += e.textContent\n  })\n  return s\n})\n\nElement.prototype.addEventListener = function(t, l) {}\n\nfunction escapeHTML(s) {\n  return String(s)\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n}\n\nfunction escapeAttribute(s) {\n  return escapeHTML(s).replace(/\"/g, '&quot;')\n}\n\nElement.prototype.nodeValue = null;\n\nfunction Text(){}\n\nText.prototype.nodeType = 3;\n\nText.prototype.nodeName = '#text';\n\nText.prototype.__defineGetter__('textContent', function() {\n  return escapeHTML(this.value || '');\n})\n\nText.prototype.__defineSetter__('textContent', function(v) {\n  this.value = v\n})\n\nText.prototype.__defineGetter__('nodeValue', function() {\n  return escapeHTML(this.value || '');\n})\n\nText.prototype.__defineSetter__('nodeValue', function(v) {\n  this.value = v\n})\n\nText.prototype.__defineGetter__('length', function() {\n  return (this.value || '').length;\n})\n\nText.prototype.replaceData = function(offset, length, str) {\n  this.value = this.value.slice(0, offset) + str + this.value.slice(offset + length);\n};\n\nfunction Comment(){}\n\nComment.prototype.nodeType = 8;\n\nComment.prototype.nodeName = '#comment';\n\nComment.prototype.__defineGetter__('data', function() {\n  return this.value\n})\n\nComment.prototype.__defineSetter__('data', function(v) {\n  this.value = v\n})\n\nComment.prototype.__defineGetter__('outerHTML', function() {\n  return '<!--' + escapeHTML(this.value || '') + '-->'\n})\n\nComment.prototype.__defineGetter__('nodeValue', function() {\n  return escapeHTML(this.value || '');\n})\n\nComment.prototype.__defineSetter__('nodeValue', function(v) {\n  this.value = v\n})\n\nfunction defineParentNode (obj) {\n  obj.__defineGetter__('parentNode', function () { return this.parentElement });\n}\n\ndefineParentNode(Element.prototype)\ndefineParentNode(Comment.prototype)\ndefineParentNode(Text.prototype)\ndefineParentNode(Node.prototype)\n\nmodule.exports = {\n  Document: Document,\n  Node: Node,\n  Element: Element,\n  Comment: Comment,\n  Text: Text,\n  document: new Document(),\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/html-element/index.js\n ** module id = 5\n ** module chunks = 0\n **/","// contains, add, remove, toggle\nvar indexof = require('indexof')\n\nmodule.exports = ClassList\n\nfunction ClassList(elem) {\n    var cl = elem.classList\n\n    if (cl) {\n        return cl\n    }\n\n    var classList = {\n        add: add\n        , remove: remove\n        , contains: contains\n        , toggle: toggle\n        , toString: $toString\n        , length: 0\n        , item: item\n    }\n\n    return classList\n\n    function add(token) {\n        var list = getTokens()\n        if (indexof(list, token) > -1) {\n            return\n        }\n        list.push(token)\n        setTokens(list)\n    }\n\n    function remove(token) {\n        var list = getTokens()\n            , index = indexof(list, token)\n\n        if (index === -1) {\n            return\n        }\n\n        list.splice(index, 1)\n        setTokens(list)\n    }\n\n    function contains(token) {\n        return indexof(getTokens(), token) > -1\n    }\n\n    function toggle(token) {\n        if (contains(token)) {\n            remove(token)\n            return false\n        } else {\n            add(token)\n            return true\n        }\n    }\n\n    function $toString() {\n        return elem.className\n    }\n\n    function item(index) {\n        var tokens = getTokens()\n        return tokens[index] || null\n    }\n\n    function getTokens() {\n        var className = elem.className\n\n        return filter(className.split(\" \"), isTruthy)\n    }\n\n    function setTokens(list) {\n        var length = list.length\n\n        elem.className = list.join(\" \")\n        classList.length = length\n\n        for (var i = 0; i < list.length; i++) {\n            classList[i] = list[i]\n        }\n\n        delete list[length]\n    }\n}\n\nfunction filter (arr, fn) {\n    var ret = []\n    for (var i = 0; i < arr.length; i++) {\n        if (fn(arr[i])) ret.push(arr[i])\n    }\n    return ret\n}\n\nfunction isTruthy(value) {\n    return !!value\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/class-list/index.js\n ** module id = 6\n ** module chunks = 0\n **/","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/indexof/index.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * Utils for HTML attributes\n * @module html-attributes\n */\n\n// property to attribute names\nvar PROPS_TO_ATTRS = {\n  'className': 'class',\n  'htmlFor': 'for',\n};\n\n// map of attributes to the elements they affect\n// see https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\nvar HTML_ATTRIBUTES = {\n  'accept': new Set([\n    'form',\n    'input',\n  ]),\n\n  'accept-charset': new Set([\n    'form',\n  ]),\n\n  'accesskey': 'GLOBAL',\n\n  'action': new Set([\n    'form',\n  ]),\n\n  'align': new Set([\n    'applet',\n    'caption',\n    'col',\n    'colgroup',\n    'hr',\n    'iframe',\n    'img',\n    'table',\n    'tbody',\n    'td',\n    'tfoot',\n    'th',\n    'thead',\n    'tr',\n  ]),\n\n  'alt': new Set([\n    'applet',\n    'area',\n    'img',\n    'input',\n  ]),\n\n  'async': new Set([\n    'script',\n  ]),\n\n  'autocomplete': new Set([\n    'form',\n    'input',\n  ]),\n\n  'autofocus': new Set([\n    'button',\n    'input',\n    'keygen',\n    'select',\n    'textarea',\n  ]),\n\n  'autoplay': new Set([\n    'audio',\n    'video',\n  ]),\n\n  'autosave': new Set([\n    'input',\n  ]),\n\n  'bgcolor': new Set([\n    'body',\n    'col',\n    'colgroup',\n    'marquee',\n    'table',\n    'tbody',\n    'tfoot',\n    'td',\n    'th',\n    'tr',\n  ]),\n\n  'border': new Set([\n    'img',\n    'object',\n    'table',\n  ]),\n\n  'buffered': new Set([\n    'audio',\n    'video',\n  ]),\n\n  'challenge': new Set([\n    'keygen',\n  ]),\n\n  'charset': new Set([\n    'meta',\n    'script',\n  ]),\n\n  'checked': new Set([\n    'command',\n    'input',\n  ]),\n\n  'cite': new Set([\n    'blockquote',\n    'del',\n    'ins',\n    'q',\n  ]),\n\n  'class': 'GLOBAL',\n\n  'code': new Set([\n    'applet',\n  ]),\n\n  'codebase': new Set([\n    'applet',\n  ]),\n\n  'color': new Set([\n    'basefont',\n    'font',\n    'hr',\n  ]),\n\n  'cols': new Set([\n    'textarea',\n  ]),\n\n  'colspan': new Set([\n    'td',\n    'th',\n  ]),\n\n  'content': new Set([\n    'meta',\n  ]),\n\n  'contenteditable': 'GLOBAL',\n\n  'contextmenu': 'GLOBAL',\n\n  'controls': new Set([\n    'audio',\n    'video',\n  ]),\n\n  'coords': new Set([\n    'area',\n  ]),\n\n  'data': new Set([\n    'object',\n  ]),\n\n  'datetime': new Set([\n    'del',\n    'ins',\n    'time',\n  ]),\n\n  'default': new Set([\n    'track',\n  ]),\n\n  'defer': new Set([\n    'script',\n  ]),\n\n  'dir': 'GLOBAL',\n\n  'dirname': new Set([\n    'input',\n    'textarea',\n  ]),\n\n  'disabled': new Set([\n    'button',\n    'command',\n    'fieldset',\n    'input',\n    'keygen',\n    'optgroup',\n    'option',\n    'select',\n    'textarea',\n  ]),\n\n  'download': new Set([\n    'a',\n    'area',\n  ]),\n\n  'draggable': 'GLOBAL',\n\n  'dropzone': 'GLOBAL',\n\n  'enctype': new Set([\n    'form',\n  ]),\n\n  'for': new Set([\n    'label',\n    'output',\n  ]),\n\n  'form': new Set([\n    'button',\n    'fieldset',\n    'input',\n    'keygen',\n    'label',\n    'meter',\n    'object',\n    'output',\n    'progress',\n    'select',\n    'textarea',\n  ]),\n\n  'formaction': new Set([\n    'input',\n    'button',\n  ]),\n\n  'headers': new Set([\n    'td',\n    'th',\n  ]),\n\n  'height': new Set([\n    'canvas',\n    'embed',\n    'iframe',\n    'img',\n    'input',\n    'object',\n    'video',\n  ]),\n\n  'hidden': 'GLOBAL',\n\n  'high': new Set([\n    'meter',\n  ]),\n\n  'href': new Set([\n    'a',\n    'area',\n    'base',\n    'link',\n  ]),\n\n  'hreflang': new Set([\n    'a',\n    'area',\n    'link',\n  ]),\n\n  'http-equiv': new Set([\n    'meta',\n  ]),\n\n  'icon': new Set([\n    'command',\n  ]),\n\n  'id': 'GLOBAL',\n\n  'ismap': new Set([\n    'img',\n  ]),\n\n  'itemprop': 'GLOBAL',\n\n  'keytype': new Set([\n    'keygen',\n  ]),\n\n  'kind': new Set([\n    'track',\n  ]),\n\n  'label': new Set([\n    'track',\n  ]),\n\n  'lang': 'GLOBAL',\n\n  'language': new Set([\n    'script',\n  ]),\n\n  'list': new Set([\n    'input',\n  ]),\n\n  'loop': new Set([\n    'audio',\n    'bgsound',\n    'marquee',\n    'video',\n  ]),\n\n  'low': new Set([\n    'meter',\n  ]),\n\n  'manifest': new Set([\n    'html',\n  ]),\n\n  'max': new Set([\n    'input',\n    'meter',\n    'progress',\n  ]),\n\n  'maxlength': new Set([\n    'input',\n    'textarea',\n  ]),\n\n  'media': new Set([\n    'a',\n    'area',\n    'link',\n    'source',\n    'style',\n  ]),\n\n  'method': new Set([\n    'form',\n  ]),\n\n  'min': new Set([\n    'input',\n    'meter',\n  ]),\n\n  'multiple': new Set([\n    'input',\n    'select',\n  ]),\n\n  'muted': new Set([\n    'video',\n  ]),\n\n  'name': new Set([\n    'button',\n    'form',\n    'fieldset',\n    'iframe',\n    'input',\n    'keygen',\n    'object',\n    'output',\n    'select',\n    'textarea',\n    'map',\n    'meta',\n    'param',\n  ]),\n\n  'novalidate': new Set([\n    'form',\n  ]),\n\n  'open': new Set([\n    'details',\n  ]),\n\n  'optimum': new Set([\n    'meter',\n  ]),\n\n  'pattern': new Set([\n    'input',\n  ]),\n\n  'ping': new Set([\n    'a',\n    'area',\n  ]),\n\n  'placeholder': new Set([\n    'input',\n    'textarea',\n  ]),\n\n  'poster': new Set([\n    'video',\n  ]),\n\n  'preload': new Set([\n    'audio',\n    'video',\n  ]),\n\n  'radiogroup': new Set([\n    'command',\n  ]),\n\n  'readonly': new Set([\n    'input',\n    'textarea',\n  ]),\n\n  'rel': new Set([\n    'a',\n    'area',\n    'link',\n  ]),\n\n  'required': new Set([\n    'input',\n    'select',\n    'textarea',\n  ]),\n\n  'reversed': new Set([\n    'ol',\n  ]),\n\n  'rows': new Set([\n    'textarea',\n  ]),\n\n  'rowspan': new Set([\n    'td',\n    'th',\n  ]),\n\n  'sandbox': new Set([\n    'iframe',\n  ]),\n\n  'scope': new Set([\n    'th',\n  ]),\n\n  'scoped': new Set([\n    'style',\n  ]),\n\n  'seamless': new Set([\n    'iframe',\n  ]),\n\n  'selected': new Set([\n    'option',\n  ]),\n\n  'shape': new Set([\n    'a',\n    'area',\n  ]),\n\n  'size': new Set([\n    'input',\n    'select',\n  ]),\n\n  'sizes': new Set([\n    'img',\n    'link',\n    'source',\n  ]),\n\n  'span': new Set([\n    'col',\n    'colgroup',\n  ]),\n\n  'spellcheck': 'GLOBAL',\n\n  'src': new Set([\n    'audio',\n    'embed',\n    'iframe',\n    'img',\n    'input',\n    'script',\n    'source',\n    'track',\n    'video',\n  ]),\n\n  'srcdoc': new Set([\n    'iframe',\n  ]),\n\n  'srclang': new Set([\n    'track',\n  ]),\n\n  'srcset': new Set([\n    'img',\n  ]),\n\n  'start': new Set([\n    'ol',\n  ]),\n\n  'step': new Set([\n    'input',\n  ]),\n\n  'style': 'GLOBAL',\n\n  'summary': new Set([\n    'table',\n  ]),\n\n  'tabindex': 'GLOBAL',\n\n  'target': new Set([\n    'a',\n    'area',\n    'base',\n    'form',\n  ]),\n\n  'title': 'GLOBAL',\n\n  'type': new Set([\n    'button',\n    'input',\n    'command',\n    'embed',\n    'object',\n    'script',\n    'source',\n    'style',\n    'menu',\n  ]),\n\n  'usemap': new Set([\n    'img',\n    'input',\n    'object',\n  ]),\n\n  'value': new Set([\n    'button',\n    'option',\n    'input',\n    'li',\n    'meter',\n    'progress',\n    'param',\n  ]),\n\n  'width': new Set([\n    'canvas',\n    'embed',\n    'iframe',\n    'img',\n    'input',\n    'object',\n    'video',\n  ]),\n\n  'wrap': new Set([\n    'textarea',\n  ]),\n};\n\nfunction isStandardAttribute(attrName, tagName) {\n  tagName = tagName.toLowerCase();\n  var attr = HTML_ATTRIBUTES[attrName.toLowerCase()];\n  return !!attr && (\n    attr === 'GLOBAL' ||\n    attr.has(tagName)\n  );\n}\n\nfunction propToAttr(prop) {\n  return PROPS_TO_ATTRS[prop] || prop;\n}\n\nmodule.exports = {\n  isStandardAttribute: isStandardAttribute,\n  propToAttr: propToAttr,\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/html-element/html-attributes.js\n ** module id = 8\n ** module chunks = 0\n **/","let gen_hash = (length) => {\r\n  let n = new Date().valueOf().toString(), result = '', p = 0, chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\r\n  for(let i = length; i > 0; --i) {\r\n    result += ((i & 1) && n.charAt(p) ? n.charAt(p) : chars[Math.floor(Math.random() * chars.length)])\r\n    if(i & 1) p++\r\n  }\r\n  return result\r\n}\r\n\r\nlet gen_id_from_tree = (tree, path='', n=0, force=false) => {\r\n  let l_path = path + '.' + n\r\n  if(force)  tree['__id__'] = l_path  // redoing the whole tree can be forced by setting 'force' to true\r\n  if(!force) tree['__id__'] = tree['__id__'] ? tree['__id__'] : l_path\r\n  if(tree.children) {\r\n    tree.children.forEach((item, i) => {\r\n      if(!tree.children[i]['__id__'] || force) {\r\n        tree.children[i] = gen_id_from_tree(tree.children[i], l_path, i)\r\n      }\r\n    })\r\n  }\r\n  return tree\r\n}\r\n\r\nlet component_hierarchy = (tree, text='') => {\r\n  if(tree.componentName && tree.children) {\r\n    text += tree.componentName + ' > '\r\n  } else if(!tree.componentName && tree.children) {\r\n    text += tree.tag + ' > '\r\n  } else if(tree.componentName && !tree.children){\r\n    text += tree.componentName\r\n  } else if(!tree.componentName && !tree.children){\r\n    text += tree.tag\r\n  }\r\n  if(tree.children) {\r\n    let texts = tree.children.map((item) => {\r\n      return component_hierarchy(item)\r\n    })\r\n    if(texts.length > 1) {\r\n      text += '| ' + texts.join(', ') + ' |'\r\n    } else {\r\n      text += texts[0]\r\n    }\r\n  }\r\n  return text\r\n}\r\n\r\nexport { gen_hash, gen_id_from_tree, component_hierarchy }\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/util.js\n **/","let development = false\r\n\r\nlet middleware = (...messages) => {\r\n  mw.forEach((item) => {\r\n    item(...messages)\r\n  })\r\n}\r\n\r\nlet mw = [\r\n  (...messages) => { if(development) console.log(...messages) },\r\n]\r\n\r\nlet registerMiddleware = (fn) => {\r\n  return mw.push(fn) - 1\r\n}\r\n\r\nlet unregisterMiddleware = (id) => {\r\n  mw.splice(id, 1)\r\n}\r\n\r\nlet caches = {      // the default caches\r\n  status: [],\r\n  components: [],\r\n  events: [],\r\n  render_cache: {}\r\n}\r\n\r\nlet cache_types = { // caches with corresponding cache type\r\n  'status': 'array',\r\n  'components': 'array',\r\n  'events': 'array',\r\n  'render_cache': 'object'\r\n}\r\n\r\nlet cache_protected = { // different levels of protection (0: no protection, deletion\r\n  'status': 2,          // is allowed, 1: deletion is not allowed but setting the whole\r\n  'components': 2,      // cache to a new value is, 2: only adding to the cache is allowed)\r\n  'events': 1\r\n}\r\n\r\nlet write = (cache_name, ...values) => {  // adding to a cache (type of interaction based on cache type)\r\n  middleware(...values)\r\n  if(caches[cache_name] === undefined) {\r\n    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:WRITE\").')\r\n    return false\r\n  } else {\r\n    if(cache_types[cache_name] === 'array') {           // array: adding items to the array\r\n      caches[cache_name].push(...values)\r\n      return true\r\n    } else if(cache_types[cache_name] === 'object') {   // object: adding {key: value} pairs\r\n      if(values.length < 2) {\r\n        write('status', 'amount of arguments is too low, 2 arguments are required: ' + values + ' (\"CACHE:WRITE\").')\r\n        return false\r\n      }\r\n      caches[cache_name][values[0]] = values[1]\r\n      return true\r\n    } else if(cache_types[cache_name] === 'number') {   // adding to the number (used for incrementing, negative numbers used for decrementing)\r\n      caches[cache_name] += values[0]\r\n      return true\r\n    } else if(cache_types[cache_name] === 'string') {   // adding to a string (no real use case as of now but it is available)\r\n      caches[cache_name] += values[0]\r\n      return true\r\n    } else {\r\n      write('status', 'some error occured (in \"CACHE:WRITE\").')\r\n      return false\r\n    }\r\n  }\r\n}\r\n\r\nlet change = (cache_name, location, value) => {\r\n  middleware(location, value)\r\n  if(caches[cache_name] === undefined) {\r\n    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:CHANGE\").')\r\n    return false\r\n  } else {\r\n    if(cache_types[cache_name] === 'array') {\r\n      if(caches[cache_name][location] = value){\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    } else if(cache_types[cache_name] === 'object') {\r\n      if(caches[cache_name][location] = value) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nlet set = (cache_name, value) => {                      // setting the value of a complete cache\r\n  if(caches[cache_name] === undefined) {                // (only if the cache has a protection level of less than 2)\r\n    middleware(value)\r\n    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:SET\").')\r\n    return false\r\n  } else if(cache_protected[cache_name] <= 1) {\r\n    caches[cache_name] = value\r\n    return true\r\n  } else {\r\n    write('status', 'cache with protection level ' + cache_protected[cache_name] + 'does not allow this change (\"CACHE:SET\").')\r\n  }\r\n}\r\n\r\nlet read = (cache_name, location) => {                  // reading from a cache (allowed for all caches regardless of protection level)\r\n  if(caches[cache_name] === undefined) {\r\n    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:READ\").')\r\n    return false\r\n  } else {\r\n    if(cache_types[cache_name] === 'array' && location) {\r\n      return caches[cache_name][location]\r\n    } else if(cache_types[cache_name] === 'object' && location) {\r\n      return caches[cache_name][location]\r\n    } else {\r\n      return caches[cache_name]\r\n    }\r\n  }\r\n}\r\n\r\nlet create = (cache_name, type='array') => {            // create a new cache (optional types are: array([]), object({}), number(0), string('') ; default is array)\r\n  if(caches[cache_name] !== undefined) {\r\n    write('status', 'a cache with this name exists already (\"CACHE:CREATE\").')\r\n\r\n    return false\r\n  } else {\r\n    if(type === 'array') {                              // setting the cache type\r\n      caches[cache_name] = []\r\n      cache_types[cache_name] = type\r\n    } else if(type === 'object') {\r\n      caches[cache_name] = {}\r\n      cache_types[cache_name] = type\r\n    } else if(type === 'number') {\r\n      caches[cache_name] = 0\r\n      cache_types[cache_name] = type\r\n    } else if(type === 'string') {\r\n      caches[cache_name] = ''\r\n      cache_types[cache_name] = type\r\n    } else {\r\n      write('status', 'type not available: ' + type + ' (\"CACHE:CREATE\").')\r\n      return false\r\n    }\r\n    middleware('cache created: ' + cache_name)\r\n    return true\r\n  }\r\n}\r\n\r\nlet del = (cache_name) => {                             // deleting a cache (protection level 0 only)\r\n  if(caches[cache_name] === undefined) {\r\n    write('status', 'cache with the name ' + cache_name + ' does not exist (\"CACHE:DEL\").')\r\n    return false\r\n  } else if(cache_protected[cache_name] >= 1) {\r\n    write('status', 'deleting cache ' + cache_name + ' with protection level greater than or equal to 1 is not allowed (\"CACHE:DEL\").')\r\n    return false\r\n  } else {\r\n    return delete caches[cache_name]\r\n  }\r\n}\r\n\r\n\r\nexport default { write, set, change, read, create, del, registerMiddleware, unregisterMiddleware }\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/cache.js\n **/","import { gen_hash } from './util.js'\r\nimport cache from './cache.js'\r\n\r\nlet component = (name, componentObject) => { // component creation (with component object as an argument)\r\n  if(typeof name !== 'string') {             // no name given, 'name' and 'componentObject' arguments must be swapped\r\n    componentObject = name\r\n    name = null\r\n  }\r\n  componentObject.id = gen_hash(16)          // generating a 16 digit long random id (numbers, alphabet (upper and lower caser)) with gen_hash from util.js\r\n  componentObject.name = name                // if a name is given, set is as the name, else use null\r\n  componentObject.isComponent = true         // isComponent is there to check if it is infact a component (useful for rendering)\r\n  if(!componentObject.onMount) {             // setting onMount if it isn't set\r\n    componentObject.onMount = function() {}\r\n  }\r\n  if(!componentObject.onRender) {            // setting onRender if it isn't set\r\n    componentObject.onRender = function() {}\r\n  }\r\n  componentObject.init()                     // running the init of the component\r\n  cache.write('components', componentObject)\r\n  return componentObject                     // returning the componentObject\r\n}\r\n\r\nexport default component\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/component.js\n **/","import render from './render.js'\r\n\r\nlet kalista_client = {\r\n  render\r\n}\r\n\r\nexport default kalista_client\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/kalista_client/index.js\n **/","import _render from '../render.js'\r\nimport { gen_hash } from '../util.js'\r\nimport cache from '../cache.js'\r\n\r\nlet render = (component, element) => {\r\n  let render_id = gen_hash(32)\r\n  cache.write('render_cache', render_id, {id: render_id, willMount: []})\r\n  let node = _render(component, render_id, document).node\r\n  let components = cache.read('components')\r\n  cache.read('render_cache', render_id).willMount.forEach((id) => {\r\n    components.forEach((component) => {\r\n      if(component.id === id) {\r\n        component.onMount()\r\n      }\r\n    })\r\n  })\r\n  if(typeof element === 'object') {\r\n    element.appendChild(node)\r\n  }\r\n  return node\r\n}\r\n\r\nexport default render\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/kalista_client/render.js\n **/","import render from './render.js'\r\n\r\nlet kalista_server = {\r\n  render,\r\n}\r\n\r\nexport default kalista_server\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/kalista_server/index.js\n **/","import { document } from 'html-element'\r\nimport _render from '../render.js'\r\nimport { gen_hash } from '../util.js'\r\nimport cache from '../cache.js'\r\n\r\nlet render = (component) => {\r\n  let render_id = gen_hash(32)\r\n  cache.write('render_cache', render_id, {id: render_id, willMount: []})\r\n  let node = _render(component, render_id, document).node\r\n  let components = cache.read('components')\r\n  cache.read('render_cache', render_id).willMount.forEach((id) => {\r\n    components.forEach((component) => {\r\n      if(component.id === id) {\r\n        component.onMount()\r\n      }\r\n    })\r\n  })\r\n  return node\r\n}\r\n\r\nexport default render\r\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/kalista_server/render.js\n **/"],"sourceRoot":""}