!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(/*! ../src/kalista */1),i=o(r),a=n(/*! ../src/cache.js */10),u=(o(a),n(/*! ../src/kalista_client */12)),c=(o(u),n(/*! ../src/kalista_server */14)),s=o(c),l=i["default"].component("Test2",{init:function(){console.log(this)},onMount:function(){console.log("mounted "+this.name)},onRender:function(){console.log("rendered "+this.name)},render:function(){return i["default"].dom("div",null,"some text")}}),d=i["default"].component("Test1",{init:function(){console.log(this)},onMount:function(){console.log("mounted "+this.name)},onRender:function(){console.log("rendered "+this.name)},render:function(){return i["default"].dom("div",null,i["default"].dom("div",{id:"123"},"456",i["default"].dom(l,null)))}});console.log(s["default"].render(d).outerHTML)},/*!*************************!*\
  !*** ../src/kalista.js ***!
  \*************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./dom.js */2),i=o(r),a=n(/*! ./diff.js */3),u=o(a),c=n(/*! ./render.js */4),s=o(c),l=n(/*! ./component.js */11),d=o(l),f={version:"2.0.1",dom:i["default"],render:s["default"],diff:u["default"],component:d["default"]};t["default"]=f},/*!*********************!*\
  !*** ../src/dom.js ***!
  \*********************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i=null;o.forEach(function(e,t){"string"==typeof o[t]&&(o[t]={tag:"text",text:o[t]})});var a={tag:e,componentName:i,prop:t,children:o||[]};return a};t["default"]=n},/*!**********************!*\
  !*** ../src/diff.js ***!
  \**********************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t["default"]=n},/*!************************!*\
  !*** ../src/render.js ***!
  \************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(/*! ./util.js */9),a=n(/*! ./cache.js */10),u=o(a),c=function s(e,t,n){var o=void 0,a=void 0;if(e.isComponent){a=e.render(),a.componentName=e.name,e.onRender();var c=u["default"].read("render_cache",t);c.willMount.push(e.id),u["default"].change("render_cache",t,c)}else a=e;if("object"===r(a.tag))o=s(a.tag,t,n).node;else if("function"==typeof a.tag)o=s(a.tag(),t.node,n);else{if("object"===("undefined"==typeof a?"undefined":r(a))&&"text"===a.tag)return{node:n.createTextNode(a.text)};o=n.createElement(a.tag),a=(0,i.gen_id_from_tree)(a)}return a.prop&&Object.keys(a.prop).forEach(function(e){o.setAttribute(e,a.prop[e])}),o.setAttribute("kalista-dataid",a.__id__),a.children&&a.children.forEach(function(e){o.appendChild(s(e,t,n).node)}),{node:o,willMount:[]}};t["default"]=c},/*!**********************************!*\
  !*** ../~/html-element/index.js ***!
  \**********************************/
function(e,t,n){function o(){}function r(){}function i(e){this.el=e,this.styles=[]}function a(e,t){e&&(this.name=e,this.value=t?t:"")}function u(){var e=this;this.style=new i(this),this.classList=p(this),this.childNodes=[],this.attributes=[],this.dataset={},this.className="",this._setProperty=function(t,n,o,r){var i=e._getProperty(t,o);return i?void(i.value=String(r)):void t.push("function"==typeof n?new n(o.toLowerCase(),String(r)):n)},this._getProperty=function(e,t){if(t){t=t.toLowerCase();for(var n=0;n<e.length;n++)if(t==e[n].name)return e[n]}}}function c(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(e){return c(e).replace(/"/g,"&quot;")}function l(){}function d(){}function f(e){e.__defineGetter__("parentNode",function(){return this.parentElement})}var p=n(/*! class-list */6),h=n(/*! ./html-attributes */8);o.prototype.createTextNode=function(e){var t=new l;return t.textContent=e,t.nodeName="#text",t.nodeType=3,t},o.prototype.createElement=function(e){var t=new u;return t.nodeName=e,t},o.prototype.createComment=function(e){var t=new d;return t.data=e,t},l.prototype=new r,u.prototype=new r,d.prototype=new r,i.prototype.setProperty=function(e,t){this.el._setProperty(this.styles,{name:e,value:t})},i.prototype.getProperty=function(e){return this.el._getProperty(this.styles,e)},i.prototype.__defineGetter__("cssText",function(){var e="";return this.styles.forEach(function(t){e+=t.name+":"+t.value+";"}),e}),i.prototype.__defineSetter__("cssText",function(e){this.styles.length=0,e.split(";").forEach(function(e){var t=e.indexOf(":");if(t){var n=e.slice(0,t).trim(),o=e.slice(t+1).trim();this.setProperty(n,o)}},this)}),u.prototype.nodeType=1,u.prototype.appendChild=function(e){return e.parentElement=this,this.childNodes.push(e),e},u.prototype.setAttribute=function(e,t){"style"==e?this.style.cssText=t:this._setProperty(this.attributes,a,e,t)},u.prototype.getAttribute=function(e){if("style"==e)return this.style.cssText;var t=this._getProperty(this.attributes,e);return"undefined"!=typeof t?t.value:null},u.prototype.removeAttribute=function(e){if("class"===e)delete this.className;else for(var t=0,n=this.attributes.length;t<n;t++)if(this.attributes[t].name===e){this.attributes.splice(t,1);break}},u.prototype.replaceChild=function(e,t){var n=this,o=!1;if(this.childNodes.forEach(function(r,i){r===t&&(n.childNodes[i]=e,o=!0)}),o)return t},u.prototype.removeChild=function(e){var t=this,n=!0;if(this.childNodes.forEach(function(o,r){o===e&&(t.childNodes.splice(r,1),n=!0)}),n)return e},u.prototype.insertBefore=function(e,t){for(var n=this.childNodes,o=0,r=n.length;o<r;o++){var i=n[o];if(i===t){0===o?n.unshift(e):n.splice(o,0,e);break}}return e},u.prototype.addEventListener=function(e,t,n,o){},u.prototype.removeEventListener=function(e,t,n){},u.prototype.insertAdjacentHTML=function(e,t){},u.prototype.__defineGetter__("innerHTML",function(){var e=this.childNodes.html||"";return this.childNodes.forEach(function(t){e+=t.outerHTML||t.textContent}),e}),u.prototype.__defineSetter__("innerHTML",function(e){this.childNodes.length=0,this.childNodes.html=e}),u.prototype.__defineGetter__("outerHTML",function(){function e(e){var t,n=[];return e.forEach(function(e){t="style"!=e.name?e.value:i.style.cssText,n.push(e.name+'="'+s(t)+'"')}),n.length?" "+n.join(" "):""}function t(e){var t=[];return Object.keys(e).forEach(function(n){t.push("data-"+n+'="'+s(e[n])+'"')}),t.length?" "+t.join(" "):""}function n(){var t=[];for(var n in i){var r=h.propToAttr(n);i.hasOwnProperty(n)&&["string","boolean","number"].indexOf(typeof i[n])!==-1&&h.isStandardAttribute(r,i.nodeName)&&o(n,r)&&t.push({name:r,value:i[n]})}return t?e(t):""}function o(e,t){return!i.getAttribute(t)&&!("className"===e&&!i[e])}var r=[],i=this,a={AREA:!0,BASE:!0,BR:!0,COL:!0,EMBED:!0,HR:!0,IMG:!0,INPUT:!0,KEYGEN:!0,LINK:!0,META:!0,PARAM:!0,SOURCE:!0,TRACK:!0,WBR:!0},u=this.style.cssText?this.attributes.concat([{name:"style"}]):this.attributes;return r.push("<"+this.nodeName+n()+e(u)+t(this.dataset)+">"),a[this.nodeName.toUpperCase()]||(r.push(this.innerHTML),r.push("</"+this.nodeName+">")),r.join("")}),u.prototype.__defineGetter__("textContent",function(){var e="";return this.childNodes.forEach(function(t){e+=t.textContent}),e}),u.prototype.addEventListener=function(e,t){},u.prototype.nodeValue=null,l.prototype.nodeType=3,l.prototype.nodeName="#text",l.prototype.__defineGetter__("textContent",function(){return c(this.value||"")}),l.prototype.__defineSetter__("textContent",function(e){this.value=e}),l.prototype.__defineGetter__("nodeValue",function(){return c(this.value||"")}),l.prototype.__defineSetter__("nodeValue",function(e){this.value=e}),l.prototype.__defineGetter__("length",function(){return(this.value||"").length}),l.prototype.replaceData=function(e,t,n){this.value=this.value.slice(0,e)+n+this.value.slice(e+t)},d.prototype.nodeType=8,d.prototype.nodeName="#comment",d.prototype.__defineGetter__("data",function(){return this.value}),d.prototype.__defineSetter__("data",function(e){this.value=e}),d.prototype.__defineGetter__("outerHTML",function(){return"<!--"+c(this.value||"")+"-->"}),d.prototype.__defineGetter__("nodeValue",function(){return c(this.value||"")}),d.prototype.__defineSetter__("nodeValue",function(e){this.value=e}),f(u.prototype),f(d.prototype),f(l.prototype),f(r.prototype),e.exports={Document:o,Node:r,Element:u,Comment:d,Text:l,document:new o}},/*!********************************!*\
  !*** ../~/class-list/index.js ***!
  \********************************/
function(e,t,n){function o(e){function t(e){var t=l();a(t,e)>-1||(t.push(e),d(t))}function n(e){var t=l(),n=a(t,e);n!==-1&&(t.splice(n,1),d(t))}function o(e){return a(l(),e)>-1}function u(e){return o(e)?(n(e),!1):(t(e),!0)}function c(){return e.className}function s(e){var t=l();return t[e]||null}function l(){var t=e.className;return r(t.split(" "),i)}function d(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var o=0;o<t.length;o++)p[o]=t[o];delete t[n]}var f=e.classList;if(f)return f;var p={add:t,remove:n,contains:o,toggle:u,toString:c,length:0,item:s};return p}function r(e,t){for(var n=[],o=0;o<e.length;o++)t(e[o])&&n.push(e[o]);return n}function i(e){return!!e}var a=n(/*! indexof */7);e.exports=o},/*!*****************************!*\
  !*** ../~/indexof/index.js ***!
  \*****************************/
function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var o=0;o<e.length;++o)if(e[o]===t)return o;return-1}},/*!********************************************!*\
  !*** ../~/html-element/html-attributes.js ***!
  \********************************************/
function(e,t){function n(e,t){t=t.toLowerCase();var n=i[e.toLowerCase()];return!!n&&("GLOBAL"===n||n.has(t))}function o(e){return r[e]||e}var r={className:"class",htmlFor:"for"},i={accept:new Set(["form","input"]),"accept-charset":new Set(["form"]),accesskey:"GLOBAL",action:new Set(["form"]),align:new Set(["applet","caption","col","colgroup","hr","iframe","img","table","tbody","td","tfoot","th","thead","tr"]),alt:new Set(["applet","area","img","input"]),async:new Set(["script"]),autocomplete:new Set(["form","input"]),autofocus:new Set(["button","input","keygen","select","textarea"]),autoplay:new Set(["audio","video"]),autosave:new Set(["input"]),bgcolor:new Set(["body","col","colgroup","marquee","table","tbody","tfoot","td","th","tr"]),border:new Set(["img","object","table"]),buffered:new Set(["audio","video"]),challenge:new Set(["keygen"]),charset:new Set(["meta","script"]),checked:new Set(["command","input"]),cite:new Set(["blockquote","del","ins","q"]),"class":"GLOBAL",code:new Set(["applet"]),codebase:new Set(["applet"]),color:new Set(["basefont","font","hr"]),cols:new Set(["textarea"]),colspan:new Set(["td","th"]),content:new Set(["meta"]),contenteditable:"GLOBAL",contextmenu:"GLOBAL",controls:new Set(["audio","video"]),coords:new Set(["area"]),data:new Set(["object"]),datetime:new Set(["del","ins","time"]),"default":new Set(["track"]),defer:new Set(["script"]),dir:"GLOBAL",dirname:new Set(["input","textarea"]),disabled:new Set(["button","command","fieldset","input","keygen","optgroup","option","select","textarea"]),download:new Set(["a","area"]),draggable:"GLOBAL",dropzone:"GLOBAL",enctype:new Set(["form"]),"for":new Set(["label","output"]),form:new Set(["button","fieldset","input","keygen","label","meter","object","output","progress","select","textarea"]),formaction:new Set(["input","button"]),headers:new Set(["td","th"]),height:new Set(["canvas","embed","iframe","img","input","object","video"]),hidden:"GLOBAL",high:new Set(["meter"]),href:new Set(["a","area","base","link"]),hreflang:new Set(["a","area","link"]),"http-equiv":new Set(["meta"]),icon:new Set(["command"]),id:"GLOBAL",ismap:new Set(["img"]),itemprop:"GLOBAL",keytype:new Set(["keygen"]),kind:new Set(["track"]),label:new Set(["track"]),lang:"GLOBAL",language:new Set(["script"]),list:new Set(["input"]),loop:new Set(["audio","bgsound","marquee","video"]),low:new Set(["meter"]),manifest:new Set(["html"]),max:new Set(["input","meter","progress"]),maxlength:new Set(["input","textarea"]),media:new Set(["a","area","link","source","style"]),method:new Set(["form"]),min:new Set(["input","meter"]),multiple:new Set(["input","select"]),muted:new Set(["video"]),name:new Set(["button","form","fieldset","iframe","input","keygen","object","output","select","textarea","map","meta","param"]),novalidate:new Set(["form"]),open:new Set(["details"]),optimum:new Set(["meter"]),pattern:new Set(["input"]),ping:new Set(["a","area"]),placeholder:new Set(["input","textarea"]),poster:new Set(["video"]),preload:new Set(["audio","video"]),radiogroup:new Set(["command"]),readonly:new Set(["input","textarea"]),rel:new Set(["a","area","link"]),required:new Set(["input","select","textarea"]),reversed:new Set(["ol"]),rows:new Set(["textarea"]),rowspan:new Set(["td","th"]),sandbox:new Set(["iframe"]),scope:new Set(["th"]),scoped:new Set(["style"]),seamless:new Set(["iframe"]),selected:new Set(["option"]),shape:new Set(["a","area"]),size:new Set(["input","select"]),sizes:new Set(["img","link","source"]),span:new Set(["col","colgroup"]),spellcheck:"GLOBAL",src:new Set(["audio","embed","iframe","img","input","script","source","track","video"]),srcdoc:new Set(["iframe"]),srclang:new Set(["track"]),srcset:new Set(["img"]),start:new Set(["ol"]),step:new Set(["input"]),style:"GLOBAL",summary:new Set(["table"]),tabindex:"GLOBAL",target:new Set(["a","area","base","form"]),title:"GLOBAL",type:new Set(["button","input","command","embed","object","script","source","style","menu"]),usemap:new Set(["img","input","object"]),value:new Set(["button","option","input","li","meter","progress","param"]),width:new Set(["canvas","embed","iframe","img","input","object","video"]),wrap:new Set(["textarea"])};e.exports={isStandardAttribute:n,propToAttr:o}},/*!**********************!*\
  !*** ../src/util.js ***!
  \**********************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=(new Date).valueOf().toString(),n="",o=0,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=e;i>0;--i)n+=1&i&&t.charAt(o)?t.charAt(o):r[Math.floor(Math.random()*r.length)],1&i&&o++;return n},o=function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t+"."+n;return o&&(e.__id__=r),o||(e.__id__=e.__id__?e.__id__:r),e.children&&e.children.forEach(function(t,n){e.children[n].__id__&&!o||(e.children[n]=i(e.children[n],r,n))}),e},r=function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.componentName&&e.children?t+=e.componentName+" > ":!e.componentName&&e.children?t+=e.tag+" > ":e.componentName&&!e.children?t+=e.componentName:e.componentName||e.children||(t+=e.tag),e.children){var n=e.children.map(function(e){return a(e)});t+=n.length>1?"| "+n.join(", ")+" |":n[0]}return t};t.gen_hash=n,t.gen_id_from_tree=o,t.component_hierarchy=r},/*!***********************!*\
  !*** ../src/cache.js ***!
  \***********************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!1,o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){e.apply(void 0,t)})},r=[function(){var e;n&&(e=console).log.apply(e,arguments)}],i=function(e){return r.push(e)-1},a=function(e){r.splice(e,1)},u={status:[],components:[],events:[],render_cache:{}},c={status:"array",components:"array",events:"array",render_cache:"object"},s={status:2,components:2,events:1},l=function y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(o.apply(void 0,n),void 0===u[e])return y("status","cache with the name "+e+' does not exist ("CACHE:WRITE").'),!1;if("array"===c[e]){var i;return(i=u[e]).push.apply(i,n),!0}return"object"===c[e]?n.length<2?(y("status","amount of arguments is too low, 2 arguments are required: "+n+' ("CACHE:WRITE").'),!1):(u[e][n[0]]=n[1],!0):"number"===c[e]?(u[e]+=n[0],!0):"string"===c[e]?(u[e]+=n[0],!0):(y("status",'some error occured (in "CACHE:WRITE").'),!1)},d=function(e,t,n){return o(t,n),void 0===u[e]?(l("status","cache with the name "+e+' does not exist ("CACHE:CHANGE").'),!1):"array"===c[e]?!!(u[e][t]=n):"object"===c[e]?!!(u[e][t]=n):void 0},f=function(e,t){return void 0===u[e]?(o(t),l("status","cache with the name "+e+' does not exist ("CACHE:SET").'),!1):s[e]<=1?(u[e]=t,!0):void l("status","cache with protection level "+s[e]+'does not allow this change ("CACHE:SET").')},p=function(e,t){return void 0===u[e]?(l("status","cache with the name "+e+' does not exist ("CACHE:READ").'),!1):"array"===c[e]&&t?u[e][t]:"object"===c[e]&&t?u[e][t]:u[e]},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"array";if(void 0!==u[e])return l("status",'a cache with this name exists already ("CACHE:CREATE").'),!1;if("array"===t)u[e]=[],c[e]=t;else if("object"===t)u[e]={},c[e]=t;else if("number"===t)u[e]=0,c[e]=t;else{if("string"!==t)return l("status","type not available: "+t+' ("CACHE:CREATE").'),!1;u[e]="",c[e]=t}return o("cache created: "+e),!0},m=function(e){return void 0===u[e]?(l("status","cache with the name "+e+' does not exist ("CACHE:DEL").'),!1):s[e]>=1?(l("status","deleting cache "+e+' with protection level greater than or equal to 1 is not allowed ("CACHE:DEL").'),!1):delete u[e]};t["default"]={write:l,set:f,change:d,read:p,create:h,del:m,registerMiddleware:i,unregisterMiddleware:a}},/*!***************************!*\
  !*** ../src/component.js ***!
  \***************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./util.js */9),i=n(/*! ./cache.js */10),a=o(i),u=function(e,t){return"string"!=typeof e&&(t=e,e=null),t.id=(0,r.gen_hash)(16),t.name=e,t.isComponent=!0,t.onMount||(t.onMount=function(){}),t.onRender||(t.onRender=function(){}),t.init||(t.init=function(){}),t.init(),a["default"].write("components",t),t};t["default"]=u},/*!**************************************!*\
  !*** ../src/kalista_client/index.js ***!
  \**************************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./render.js */13),i=o(r),a={render:i["default"]};t["default"]=a},/*!***************************************!*\
  !*** ../src/kalista_client/render.js ***!
  \***************************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(/*! ../render.js */4),a=o(i),u=n(/*! ../util.js */9),c=n(/*! ../cache.js */10),s=o(c),l=function(e,t){var n=(0,u.gen_hash)(32);s["default"].write("render_cache",n,{id:n,willMount:[]});var o=(0,a["default"])(e,n,document).node,i=s["default"].read("components");return s["default"].read("render_cache",n).willMount.forEach(function(e){i.forEach(function(t){t.id===e&&t.onMount()})}),"object"===("undefined"==typeof t?"undefined":r(t))&&t.appendChild(o),o};t["default"]=l},/*!**************************************!*\
  !*** ../src/kalista_server/index.js ***!
  \**************************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./render.js */15),i=o(r),a={render:i["default"]};t["default"]=a},/*!***************************************!*\
  !*** ../src/kalista_server/render.js ***!
  \***************************************/
function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! html-element */5),i=n(/*! ../render.js */4),a=o(i),u=n(/*! ../util.js */9),c=n(/*! ../cache.js */10),s=o(c),l=function(e){var t=(0,u.gen_hash)(32);s["default"].write("render_cache",t,{id:t,willMount:[]});var n=(0,a["default"])(e,t,r.document).node,o=s["default"].read("components");return s["default"].read("render_cache",t).willMount.forEach(function(e){o.forEach(function(t){t.id===e&&t.onMount()})}),n};t["default"]=l}]);
//# sourceMappingURL=kalista.min.js.map